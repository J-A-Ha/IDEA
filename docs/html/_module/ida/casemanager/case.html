<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ida.casemanager.case &mdash; IDA 0.01 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            IDA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">ida</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">IDA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">ida.casemanager.case</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for ida.casemanager.case</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">..core.globaltools</span> <span class="kn">import</span> <span class="n">get_var_name_str</span>
<span class="kn">from</span> <span class="nn">..core.basics</span> <span class="kn">import</span> <span class="n">Iterator</span>
<span class="kn">from</span> <span class="nn">..core.cleaners</span> <span class="kn">import</span> <span class="n">join_df_col_lists_by_semicolon</span><span class="p">,</span> <span class="n">empty_to_none</span><span class="p">,</span> <span class="n">list_to_datetimes</span><span class="p">,</span> <span class="n">nat_list_to_nones_list</span><span class="p">,</span> <span class="n">series_to_datetimes</span><span class="p">,</span> <span class="n">series_none_list_to_empty_lists</span>
<span class="kn">from</span> <span class="nn">..visualisation.visualise</span> <span class="kn">import</span> <span class="n">plot_timeline</span><span class="p">,</span> <span class="n">plot_date_range_timeline</span>
<span class="kn">from</span> <span class="nn">..internet.crawlers</span> <span class="kn">import</span> <span class="n">crawl_web</span><span class="p">,</span> <span class="n">crawler</span>
<span class="kn">from</span> <span class="nn">..socmed.sherlock_interpreter</span> <span class="kn">import</span> <span class="n">search_username</span>
<span class="kn">from</span> <span class="nn">..networks.network_functions</span> <span class="kn">import</span> <span class="n">generate_urls_network</span>
<span class="kn">from</span> <span class="nn">..exporters.general_exporters</span> <span class="kn">import</span> <span class="n">obj_to_folder</span>

<span class="kn">from</span> <span class="nn">.defaults_manager</span> <span class="kn">import</span> <span class="n">DEFAULT_SET</span><span class="p">,</span> <span class="n">DEFAULT_CASE_NAME</span><span class="p">,</span> <span class="n">set_default_case</span><span class="p">,</span> <span class="n">get_default_case_name</span><span class="p">,</span> <span class="n">get_default_case</span><span class="p">,</span> <span class="n">is_default_case</span><span class="p">,</span> <span class="n">check_default_case</span><span class="p">,</span> <span class="n">remove_default_case</span><span class="p">,</span> <span class="n">update_default_case</span>
<span class="kn">from</span> <span class="nn">.backups_manager</span> <span class="kn">import</span> <span class="n">Backups</span><span class="p">,</span> <span class="n">get_backups</span><span class="p">,</span> <span class="n">BACKUPS</span>
<span class="kn">from</span> <span class="nn">.obj_properties</span> <span class="kn">import</span> <span class="n">Properties</span><span class="p">,</span> <span class="n">CaseObjectProperties</span>
<span class="kn">from</span> <span class="nn">.obj_superclasses</span> <span class="kn">import</span> <span class="n">CaseObject</span><span class="p">,</span> <span class="n">CaseObjectSet</span>
<span class="kn">from</span> <span class="nn">.relationships</span> <span class="kn">import</span> <span class="n">CaseRelation</span><span class="p">,</span> <span class="n">CaseRelationSet</span><span class="p">,</span> <span class="n">SourceFileOf</span>
<span class="kn">from</span> <span class="nn">.files</span> <span class="kn">import</span> <span class="n">CaseFile</span><span class="p">,</span> <span class="n">CaseFileSet</span><span class="p">,</span> <span class="n">stat_result</span>
<span class="kn">from</span> <span class="nn">.casespecial</span> <span class="kn">import</span> <span class="n">CaseSpecial</span>
<span class="kn">from</span> <span class="nn">.items</span> <span class="kn">import</span> <span class="n">CaseItem</span><span class="p">,</span> <span class="n">CaseItemSet</span><span class="p">,</span> <span class="n">pdf_to_item</span><span class="p">,</span> <span class="n">parsed_pdf_to_item</span><span class="p">,</span> <span class="n">pdf_url_to_item</span><span class="p">,</span> <span class="n">url_to_item_id</span><span class="p">,</span> <span class="n">new_blank_item</span>
<span class="kn">from</span> <span class="nn">.entities</span> <span class="kn">import</span> <span class="n">CaseEntity</span><span class="p">,</span> <span class="n">CaseEntitySet</span>
<span class="kn">from</span> <span class="nn">.events</span> <span class="kn">import</span> <span class="n">CaseEvent</span><span class="p">,</span> <span class="n">CaseEventSet</span>
<span class="kn">from</span> <span class="nn">.casedata</span> <span class="kn">import</span> <span class="n">CaseKeywords</span><span class="p">,</span> <span class="n">CaseData</span>
<span class="kn">from</span> <span class="nn">.networks</span> <span class="kn">import</span> <span class="n">CaseNetwork</span><span class="p">,</span> <span class="n">CaseNetworkSet</span>
<span class="kn">from</span> <span class="nn">.indexes</span> <span class="kn">import</span> <span class="n">CaseIndexes</span>
<span class="kn">from</span> <span class="nn">.analytics</span> <span class="kn">import</span> <span class="n">CaseAnalytics</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">igraph</span> <span class="k">as</span> <span class="nn">ig</span>
<span class="kn">from</span> <span class="nn">igraph</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="kn">from</span> <span class="nn">Levenshtein</span> <span class="kn">import</span> <span class="n">distance</span> <span class="k">as</span> <span class="n">lev</span>

<div class="viewcode-block" id="CaseProperties"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.CaseProperties">[docs]</a><span class="k">class</span> <span class="nc">CaseProperties</span><span class="p">(</span><span class="n">Properties</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a set of values representing global properties of a Case object.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    case_name : str</span>
<span class="sd">        name for Case. This is intended to be the same string as the Case&#39;s variable name.</span>
<span class="sd">    case_path : str</span>
<span class="sd">        object path for Case.</span>
<span class="sd">    project : str</span>
<span class="sd">        name of parent project (if Case is part of one; None if not).</span>
<span class="sd">    file_location : str</span>
<span class="sd">        location where Case files are saved.</span>
<span class="sd">    file_type : str</span>
<span class="sd">        file type for Case files.</span>
<span class="sd">    size : int</span>
<span class="sd">        size of object in memory.</span>
<span class="sd">    parsed : bool</span>
<span class="sd">        whether raw data has been parsed.</span>
<span class="sd">    keywords_generated : bool</span>
<span class="sd">        whether keywords have been generated from parsed data.</span>
<span class="sd">    indexed : bool</span>
<span class="sd">        whether Case items, entities, and events have been indexed by their contents.</span>
<span class="sd">    coincidences_identified : bool</span>
<span class="sd">        whether patterns fo coinciding data have been analysed.</span>
<span class="sd">    networks_generated : bool</span>
<span class="sd">        whether core networks have been generated from Case items.</span>
<span class="sd">    analytics_generated : bool</span>
<span class="sd">        whether Case analytics have been generated.</span>
<span class="sd">    </span>
<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    case_name : str</span>
<span class="sd">        name for Case. This is intended to be the same string as the Case&#39;s variable name.</span>
<span class="sd">    obj_path : str</span>
<span class="sd">        object path for Case.</span>
<span class="sd">    project : str</span>
<span class="sd">        name of parent project (if Case is part of one; None if not).</span>
<span class="sd">    file_location : str</span>
<span class="sd">        location where Case files are saved.</span>
<span class="sd">    file_type : str</span>
<span class="sd">        file type for Case files.</span>
<span class="sd">    size : int</span>
<span class="sd">        size of object in memory.</span>
<span class="sd">    parsed : bool</span>
<span class="sd">        whether raw data has been parsed.</span>
<span class="sd">    keywords_generated : bool</span>
<span class="sd">        whether keywords have been generated from parsed data.</span>
<span class="sd">    indexed : bool</span>
<span class="sd">        whether Case items, entities, and events have been indexed by their contents.</span>
<span class="sd">    coincidences_identified : bool</span>
<span class="sd">        whether patterns fo coinciding data have been analysed.</span>
<span class="sd">    networks_generated : bool</span>
<span class="sd">        whether core networks have been generated from Case items.</span>
<span class="sd">    analytics_generated : bool</span>
<span class="sd">        whether Case analytics have been generated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
        
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
                    <span class="n">case_name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">case_path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">project</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">file_location</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">file_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">size</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">parsed</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">keywords_generated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">indexed</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">coincidences_identified</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">networks_generated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">analytics_generated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises a CaseProperties instance.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        case_name : str</span>
<span class="sd">            name for Case. This is intended to be the same string as the Case&#39;s variable name.</span>
<span class="sd">        case_path : str</span>
<span class="sd">            object path for Case.</span>
<span class="sd">        project : str</span>
<span class="sd">            name of parent project (if Case is part of one; None if not).</span>
<span class="sd">        file_location : str</span>
<span class="sd">            location where Case files are saved.</span>
<span class="sd">        file_type : str</span>
<span class="sd">            file type for Case files.</span>
<span class="sd">        size : int</span>
<span class="sd">            size of object in memory.</span>
<span class="sd">        parsed : bool</span>
<span class="sd">            whether raw data has been parsed.</span>
<span class="sd">        keywords_generated : bool</span>
<span class="sd">            whether keywords have been generated from parsed data.</span>
<span class="sd">        indexed : bool</span>
<span class="sd">            whether Case items, entities, and events have been indexed by their contents.</span>
<span class="sd">        coincidences_identified : bool</span>
<span class="sd">            whether patterns fo coinciding data have been analysed.</span>
<span class="sd">        networks_generated : bool</span>
<span class="sd">            whether core networks have been generated from Case items.</span>
<span class="sd">        analytics_generated : bool</span>
<span class="sd">            whether Case analytics have been generated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="n">case_name</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="n">case_path</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">case_path</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">project</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">case_path</span> <span class="o">=</span> <span class="n">case_name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">case_path</span> <span class="o">=</span> <span class="n">project</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">case_name</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">case_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_path</span> <span class="o">=</span> <span class="n">case_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">project</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_backup</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_location</span> <span class="o">=</span> <span class="n">file_location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parsed</span> <span class="o">=</span> <span class="n">parsed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">=</span> <span class="n">keywords_generated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span> <span class="o">=</span> <span class="n">indexed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coincidences_identified</span> <span class="o">=</span> <span class="n">coincidences_identified</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">networks_generated</span> <span class="o">=</span> <span class="n">networks_generated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics_generated</span> <span class="o">=</span> <span class="n">analytics_generated</span>
        
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_size</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_name</span>
        
           
    
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines how CaseProperties objects are represented in string form.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">self_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
        <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">self_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">prop</span> <span class="o">=</span> <span class="n">self_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">output</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        
        <span class="k">return</span> <span class="n">output</span></div>
    

<div class="viewcode-block" id="Case"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case">[docs]</a><span class="k">class</span> <span class="nc">Case</span><span class="p">:</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a Case object. It stores data, metadata, and other information related to investigative cases.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    case_name : str</span>
<span class="sd">        name for Case. This is intended to be the same string as the Case&#39;s variable name.</span>
<span class="sd">    case_path : str</span>
<span class="sd">        object path for Case.</span>
<span class="sd">    project : str</span>
<span class="sd">        name of parent project (if Case is part of one; None if not).</span>
<span class="sd">    file_location : str</span>
<span class="sd">        location where Case files are saved.</span>
<span class="sd">    file_type : str</span>
<span class="sd">        file type for Case file(s).</span>
<span class="sd">    size : int</span>
<span class="sd">        size of object in memory.</span>
<span class="sd">    make_default : bool</span>
<span class="sd">        whether to make the Case object the default csae in the environment.</span>
<span class="sd">    parse : bool</span>
<span class="sd">        whether to parse the case&#39;s raw data.</span>
<span class="sd">    keywords : bool</span>
<span class="sd">        whether to generate keywords from parsed data.</span>
<span class="sd">    indexes : bool</span>
<span class="sd">        whether to index Case items, entities, and events by their contents.</span>
<span class="sd">    coincidences : bool</span>
<span class="sd">        whether to analyse patterns of coinciding data.</span>
<span class="sd">    networks : bool</span>
<span class="sd">        whether to generate core networks from Case items.</span>
<span class="sd">    analytics : bool</span>
<span class="sd">        whether to generate Case analytics.</span>
<span class="sd">    </span>
<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    properties : CaseProperties</span>
<span class="sd">        metadata for Case object.</span>
<span class="sd">    items : CaseItemSet</span>
<span class="sd">        items of data and evidence associated with the case.</span>
<span class="sd">    entities : CaseEntitySet</span>
<span class="sd">        entities associated with the case.</span>
<span class="sd">    events : CaseEventSet</span>
<span class="sd">        events associated with the case.</span>
<span class="sd">    indexes : CaseIndexes</span>
<span class="sd">        indexes of items, entities, events, and other data.</span>
<span class="sd">    networks : CaseNetworkSet</span>
<span class="sd">        networks derived from items, entities, and events.</span>
<span class="sd">    analytics : CaseAnalytics</span>
<span class="sd">        analytics derived from items, entities, and events.</span>
<span class="sd">    dataframes : CaseData</span>
<span class="sd">        collated data for items associated with the case.</span>
<span class="sd">    description : str</span>
<span class="sd">        a user-generated description of the case.</span>
<span class="sd">    notes : list</span>
<span class="sd">        user-generated notes assigned to the case.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
                    <span class="n">case_name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">case_path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">project</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">file_location</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">file_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">size</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">make_default</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
                    <span class="n">parse</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                    <span class="n">keywords</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                    <span class="n">coincidences</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                    <span class="n">indexes</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                    <span class="n">networks</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
                    <span class="n">analytics</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises a Case instance.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        case_name : str</span>
<span class="sd">            name for Case. This is intended to be the same string as the Case&#39;s variable name.</span>
<span class="sd">        case_path : str</span>
<span class="sd">            object path for Case.</span>
<span class="sd">        project : str</span>
<span class="sd">            name of parent project (if Case is part of one; None if not).</span>
<span class="sd">        file_location : str</span>
<span class="sd">            location where Case files are saved.</span>
<span class="sd">        file_type : str</span>
<span class="sd">            file type for Case file(s).</span>
<span class="sd">        size : int</span>
<span class="sd">            size of object in memory.</span>
<span class="sd">        make_default : bool</span>
<span class="sd">            whether to make the Case object the default csae in the environment.</span>
<span class="sd">        parse : bool</span>
<span class="sd">            whether to parse the case&#39;s raw data.</span>
<span class="sd">        keywords : bool</span>
<span class="sd">            whether to generate keywords from parsed data.</span>
<span class="sd">        indexes : bool</span>
<span class="sd">            whether to index Case items, entities, and events by their contents.</span>
<span class="sd">        coincidences : bool</span>
<span class="sd">            whether to analyse patterns of coinciding data.</span>
<span class="sd">        networks : bool</span>
<span class="sd">            whether to generate core networks from Case items.</span>
<span class="sd">        analytics : bool</span>
<span class="sd">            whether to generate Case analytics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="n">CaseProperties</span><span class="p">(</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">case_name</span><span class="p">,</span>
                                            <span class="n">case_path</span> <span class="o">=</span> <span class="n">case_path</span><span class="p">,</span>
                                            <span class="n">project</span> <span class="o">=</span> <span class="n">project</span><span class="p">,</span>
                                            <span class="n">file_location</span> <span class="o">=</span> <span class="n">file_location</span><span class="p">,</span> 
                                            <span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span><span class="p">,</span> 
                                            <span class="n">size</span> <span class="o">=</span> <span class="n">size</span><span class="p">,</span>
                                            <span class="n">parsed</span> <span class="o">=</span> <span class="n">parse</span><span class="p">,</span>
                                            <span class="n">keywords_generated</span> <span class="o">=</span> <span class="n">keywords</span><span class="p">,</span>
                                            <span class="n">coincidences_identified</span> <span class="o">=</span> <span class="n">coincidences</span><span class="p">,</span>
                                            <span class="n">indexed</span> <span class="o">=</span> <span class="n">indexes</span><span class="p">,</span>
                                            <span class="n">networks_generated</span> <span class="o">=</span> <span class="n">networks</span><span class="p">,</span>
                                            <span class="n">analytics_generated</span> <span class="o">=</span> <span class="n">analytics</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span> <span class="o">=</span> <span class="n">CaseData</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;dataframes&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">CaseItemSet</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;items&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="o">=</span> <span class="n">CaseEntitySet</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;entities&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="n">CaseEventSet</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;events&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span> <span class="o">=</span> <span class="n">CaseIndexes</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;indexes&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span> <span class="o">=</span> <span class="n">CaseNetworkSet</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;networks&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span> <span class="o">=</span> <span class="n">CaseAnalytics</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;analytics&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span> <span class="o">=</span> <span class="n">CaseFileSet</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;files&#39;</span><span class="p">,</span> <span class="n">parent_obj_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Note&#39;</span><span class="p">,</span> <span class="s1">&#39;Created at&#39;</span><span class="p">])</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">case_name</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">case_name</span> <span class="o">==</span> <span class="s1">&#39;self&#39;</span><span class="p">):</span>
            <span class="n">var_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">varstr</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">var_str</span>
        
        <span class="k">if</span> <span class="n">make_default</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_default</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">parse</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">keywords</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">coincidences</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">indexes</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_indexes</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_all_networks</span><span class="p">(</span><span class="n">items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
                        <span class="n">keywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="p">,</span>
                        <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                        <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                        <span class="n">items_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                        <span class="n">directed_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
                        <span class="n">coincidence_networks</span> <span class="o">=</span> <span class="n">coincidences</span><span class="p">,</span>
                        <span class="n">partitioned_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sizeof__</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39; bytes&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update_last_changed</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        

    <span class="c1"># Methods for editing and retrieving case properties</span>
    
<div class="viewcode-block" id="Case.update_properties"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_properties">[docs]</a>    <span class="k">def</span> <span class="nf">update_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates Case properties.</span>
<span class="sd">        </span>
<span class="sd">        Updates</span>
<span class="sd">        -------</span>
<span class="sd">            * obj_id</span>
<span class="sd">            * size</span>
<span class="sd">            * contents</span>
<span class="sd">            * last_changed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_id</span> <span class="o">=</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sizeof__</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39; bytes&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update_last_changed</span><span class="p">()</span></div>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines how Case objects are represented in string form.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Properties:</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="si">}</span><span class="se">\n\n</span><span class="s1">Description:</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="se">\n\n</span><span class="s1">Contents:</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
    
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to make Case objects iterable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="n">Iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
<div class="viewcode-block" id="Case.contents"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.contents">[docs]</a>    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s attributes as a list. Excludes Case properties attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="s1">&#39;properties&#39;</span><span class="p">)]</span></div>
    
<div class="viewcode-block" id="Case.to_list"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.to_list">[docs]</a>    <span class="k">def</span> <span class="nf">to_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s contents as a list. Excludes object properties attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">!=</span> <span class="n">CaseProperties</span><span class="p">]</span></div>
    
<div class="viewcode-block" id="Case.to_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s contents as a dictionary. Excludes object properties attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">!=</span> <span class="s1">&#39;properties&#39;</span><span class="p">:</span>
                <span class="n">output_dict</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">output_dict</span></div>
    
    
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an attribute in the Case using an index or list of indexes.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        index : str</span>
<span class="sd">            an attribute name.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : CaseAttr</span>
<span class="sd">            a Case attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s1">&quot; not found in case&#39;</span><span class="p">)</span>
    
    
<div class="viewcode-block" id="Case.copy"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a copy of the Case object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_project"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_project">[docs]</a>    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If the Case is assigned to a Project, returns that Project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">project</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">project</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">project</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">project</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="n">project</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>
    
<div class="viewcode-block" id="Case.get_name_str"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_name_str">[docs]</a>    <span class="k">def</span> <span class="nf">get_name_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s variable name as a string. </span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Implementation:</span>
<span class="sd">            * Searches global environment dictionary for objects sharing case&#39;s name. Returns key if found.</span>
<span class="sd">            * If none found, searches local environment dictionary for objects sharing case&#39;s name. Returns key if found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">id</span><span class="p">(</span><span class="nb">globals</span><span class="p">()[</span><span class="n">name</span><span class="p">])</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">name</span>
        
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">id</span><span class="p">(</span><span class="nb">locals</span><span class="p">()[</span><span class="n">name</span><span class="p">])</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">name</span></div>
    
<div class="viewcode-block" id="Case.varstr"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.varstr">[docs]</a>    <span class="k">def</span> <span class="nf">varstr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s name as a string. Defaults to using its variable name; falls back to using its name property.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Implementation:</span>
<span class="sd">            * Searches global environment dictionary for objects matching Case. Returns key if found.</span>
<span class="sd">            * If none found, searches local environment dictionary for objects matching Case. Returns key if found.</span>
<span class="sd">            * If none found, returns Case&#39;s name property.</span>
<span class="sd">            * If name property is None, &#39;none&#39;, or &#39;self&#39;, returns an empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name_str</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">=</span> <span class="kc">None</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">string</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">string</span> <span class="o">==</span> <span class="s1">&#39;self&#39;</span><span class="p">):</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">project_name</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                
        <span class="k">if</span> <span class="p">(</span><span class="n">string</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">string</span> <span class="o">==</span> <span class="s1">&#39;self&#39;</span><span class="p">):</span>
            <span class="n">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            
        <span class="k">return</span> <span class="n">string</span></div>
    
<div class="viewcode-block" id="Case.make_default"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.make_default">[docs]</a>    <span class="k">def</span> <span class="nf">make_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the Case as the default case in the environment.</span>

<span class="sd">        Setting a default case means the selected case will be called whenever a function or method calls for &#39;default_case&#39;. </span>
<span class="sd">        This is the default behaviour for several functions if no case is inputted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">set_default_case</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.is_default"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.is_default">[docs]</a>    <span class="k">def</span> <span class="nf">is_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if Case is set as the default case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">get_default_case</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">res</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>
    
    
<div class="viewcode-block" id="Case.remove_default"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.remove_default">[docs]</a>    <span class="k">def</span> <span class="nf">remove_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deselects Case from being the default case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_default</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>

            <span class="n">remove_default_case</span><span class="p">()</span></div>
            
    
    

    <span class="c1"># Methods for creating, updating, and restoring from case backups</span>
    
<div class="viewcode-block" id="Case.backup"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.backup">[docs]</a>    <span class="k">def</span> <span class="nf">backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates backup of the Case.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Works by checking if Case has been backed up previously.</span>
<span class="sd">            * If yes: overwrites latest case backup with new backup.</span>
<span class="sd">            * If no: creates new backup in new directory location.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">global</span> <span class="n">BACKUPS</span>
        <span class="n">BACKUPS</span><span class="o">.</span><span class="n">save_backup</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">last_backup</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y %H:%M:%S&quot;</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.create_new_backup"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.create_new_backup">[docs]</a>    <span class="k">def</span> <span class="nf">create_new_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a backup of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">global</span> <span class="n">BACKUPS</span>
        <span class="n">BACKUPS</span><span class="o">.</span><span class="n">new_backup</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">last_backup</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y %H:%M:%S&quot;</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.is_backed_up"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.is_backed_up">[docs]</a>    <span class="k">def</span> <span class="nf">is_backed_up</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the Case object has been backed up.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">case_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name_str</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">global</span> <span class="n">BACKUPS</span>
        <span class="k">return</span> <span class="n">case_name</span> <span class="ow">in</span> <span class="n">backups</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="s1">&#39;case&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span></div>

    
<div class="viewcode-block" id="Case.last_backup"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.last_backup">[docs]</a>    <span class="k">def</span> <span class="nf">last_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Case&#39;s most recent backup.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">case_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name_str</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">global</span> <span class="n">BACKUPS</span>
        <span class="k">return</span> <span class="n">BACKUPS</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.all_backups"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.all_backups">[docs]</a>    <span class="k">def</span> <span class="nf">all_backups</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dataframe of the Case&#39;s backups.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">case_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name_str</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">global</span> <span class="n">BACKUPS</span>
        <span class="k">return</span> <span class="n">BACKUPS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="Case.restore_from_backup"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.restore_from_backup">[docs]</a>    <span class="k">def</span> <span class="nf">restore_from_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backup</span> <span class="o">=</span> <span class="s1">&#39;last&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overwrites Case from a backup. Defaults to using the most recent backup.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">backup</span> <span class="o">==</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span>
            <span class="bp">self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_backup</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        
        <span class="k">else</span><span class="p">:</span>
            <span class="k">global</span> <span class="n">BACKUPS</span>
            <span class="bp">self</span> <span class="o">=</span> <span class="n">BACKUPS</span><span class="o">.</span><span class="n">directory</span><span class="p">[</span><span class="n">backup</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>


<div class="viewcode-block" id="Case.overwrite_backup"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.overwrite_backup">[docs]</a>    <span class="k">def</span> <span class="nf">overwrite_backup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backup</span> <span class="o">=</span> <span class="s1">&#39;last&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overwrites a selected case backup with new backup.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        backup: str or int</span>
<span class="sd">            which backup or backups to overwrite. Defaults to the most recent backup.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;BACKUPS&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;BACKUPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Backups</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_backed_up</span><span class="p">()</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
             <span class="c1"># self.backup()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">backup</span> <span class="o">==</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span>
                <span class="n">backup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_backup</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;location&#39;</span><span class="p">]</span>
                
            <span class="k">global</span> <span class="n">BACKUPS</span>
            <span class="n">BACKUPS</span><span class="o">.</span><span class="n">overwrite_backup</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">,</span> <span class="n">backup</span> <span class="o">=</span> <span class="n">backup</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_backup</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y %H:%M:%S&quot;</span><span class="p">)</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        

    <span class="c1"># Methods for adding objects and data to case</span>
    
<div class="viewcode-block" id="Case.add_blank_item"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.add_blank_item">[docs]</a>    <span class="k">def</span> <span class="nf">add_blank_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a blank item to the Case&#39;s item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_id : str</span>
<span class="sd">            the item&#39;s ID. This will become its attribute name.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : CaseItem</span>
<span class="sd">            the new blank item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">count_items</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;item_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">item_code</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;New item ID: &#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">add_blank_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
    
<div class="viewcode-block" id="Case.add_item"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.add_item">[docs]</a>    <span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an item to the Case&#39;s item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item : CaseItem</span>
<span class="sd">            The item to be added. Defaults to None; this adds a blank item.</span>
<span class="sd">        item_id : str</span>
<span class="sd">            The item&#39;s ID. This will become its attribute name. Defaults to None.</span>
<span class="sd">            If none set, tries to retrieve details from item&#39;s properties.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : CaseItem</span>
<span class="sd">            the added item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">item_id</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_blank_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">!=</span> <span class="n">CaseItem</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Item must be of type &quot;CaseItem&quot;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
        
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">item_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
        
    
<div class="viewcode-block" id="Case.add_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.add_items">[docs]</a>    <span class="k">def</span> <span class="nf">add_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_list</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a list of items to the Case&#39;s item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item : CaseItem</span>
<span class="sd">            The item to be added. Defaults to None; this adds a blank item.</span>
<span class="sd">        item_id : str</span>
<span class="sd">            The item&#39;s ID. This will become its attribute name. Defaults to None.</span>
<span class="sd">            If none set, tries to retrieve details from item&#39;s properties.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : CaseItem</span>
<span class="sd">            the added item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">==</span> <span class="n">CaseItem</span><span class="p">:</span>
            <span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item_list</span><span class="p">]</span>
        
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">item_list</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">!=</span> <span class="n">CaseItem</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Item must be of type &quot;CaseItem&quot;&#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">item</span><span class="o">.</span><span class="n">add_id</span><span class="p">()</span>
                <span class="n">item_id</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">item_id</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        
         <span class="c1"># self.backup()</span>
        
    

    <span class="c1"># Methods for creating case and case objects from imported data sources</span>
    
<div class="viewcode-block" id="Case.from_web_crawl"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.from_web_crawl">[docs]</a>    <span class="k">def</span> <span class="nf">from_web_crawl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">seed_urls</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span>
                    <span class="n">visit_limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> 
                    <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                    <span class="n">required_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">case_sensitive</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">ignore_urls</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">ignore_domains</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                    <span class="n">be_polite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="n">full</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Case from a web crawl.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ---------- </span>
<span class="sd">        seed_urls : str or list</span>
<span class="sd">            one or more URls to crawl from. Defaults to requesting from user input.</span>
<span class="sd">        visit_limit : int</span>
<span class="sd">            how many URLs the crawler should visit before it stops.</span>
<span class="sd">        excluded_url_terms : list</span>
<span class="sd">            list of strings; link will be ignored if it contains any string in list.</span>
<span class="sd">        required_keywords : list</span>
<span class="sd">            list of keywords which sites must contain to be crawled.</span>
<span class="sd">        excluded_keywords : list</span>
<span class="sd">            list of keywords which sites must *not* contain to be crawled.</span>
<span class="sd">        case_sensitive : bool</span>
<span class="sd">            whether or not to ignore string characters&#39; case.</span>
<span class="sd">        ignore_urls : list</span>
<span class="sd">            list of URLs to ignore.</span>
<span class="sd">        ignore_domains : list</span>
<span class="sd">            list of domains to ignore.</span>
<span class="sd">        be_polite : bool</span>
<span class="sd">            whether respect websites&#39; permissions for crawlers.</span>
<span class="sd">        full : bool</span>
<span class="sd">            whether to run a full scrape on each site. This takes longer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output</span> <span class="o">=</span> <span class="n">case_from_web_crawl</span><span class="p">(</span><span class="n">case_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                        <span class="n">make_global_var</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                        <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span><span class="p">,</span>
                        <span class="n">visit_limit</span> <span class="o">=</span> <span class="n">visit_limit</span><span class="p">,</span> 
                        <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="n">excluded_url_terms</span><span class="p">,</span>
                        <span class="n">required_keywords</span> <span class="o">=</span> <span class="n">required_keywords</span><span class="p">,</span> 
                        <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="n">excluded_keywords</span><span class="p">,</span> 
                        <span class="n">case_sensitive</span> <span class="o">=</span> <span class="n">case_sensitive</span><span class="p">,</span>
                        <span class="n">ignore_urls</span> <span class="o">=</span> <span class="n">ignore_urls</span><span class="p">,</span> 
                        <span class="n">ignore_domains</span> <span class="o">=</span> <span class="n">ignore_domains</span><span class="p">,</span>
                        <span class="n">be_polite</span> <span class="o">=</span> <span class="n">be_polite</span><span class="p">,</span>
                        <span class="n">full</span> <span class="o">=</span> <span class="n">full</span><span class="p">,</span>
                        <span class="n">output_as</span> <span class="o">=</span> <span class="s1">&#39;dataframe&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span> <span class="o">=</span> <span class="n">output</span>
        
        <span class="n">var_name</span> <span class="o">=</span> <span class="n">get_var_name_str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">var_name</span>
        
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="Case.item_from_pdf"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_from_pdf">[docs]</a>    <span class="k">def</span> <span class="nf">item_from_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates CaseItem from PDF file and adds to Case item set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">item_from_pdf</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_path</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.item_from_pdf_url"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_from_pdf_url">[docs]</a>    <span class="k">def</span> <span class="nf">item_from_pdf_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates CaseItem from PDF URL and adds to Case item set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">item_from_pdf_url</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="Case.import_item_json"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.import_item_json">[docs]</a>    <span class="k">def</span> <span class="nf">import_item_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds CaseItem from JSON file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;New item ID: &#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_blank_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            
        <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File address: &#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">import_json</span><span class="p">(</span><span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
        
    
<div class="viewcode-block" id="Case.import_multiple_items_json"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.import_multiple_items_json">[docs]</a>    <span class="k">def</span> <span class="nf">import_multiple_items_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds multiple CaseItems from JSON file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File address: &#39;</span><span class="p">)</span>
        
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_address</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
            <span class="n">items_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">items_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
                    <span class="n">item_dict</span> <span class="o">=</span> <span class="n">items_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item_dict</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
                        <span class="n">item_dict</span> <span class="o">=</span> <span class="n">items_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_blank_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item_dict</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;JSON importer ran into an error&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
        
    
<div class="viewcode-block" id="Case.overwrite"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.overwrite">[docs]</a>    <span class="k">def</span> <span class="nf">overwrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_file</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">import_type</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">import_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overwrites Case attributes from a file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">case_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_name_str</span><span class="p">()</span>
        <span class="n">is_default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_default</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">from_file</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">import_type</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">import_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File type: &#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">import_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">import_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File address: &#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span><span class="p">:</span>
                <span class="bp">self</span> <span class="o">=</span> <span class="n">import_case_csv_folder</span><span class="p">(</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">case_name</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="n">import_address</span><span class="p">,</span> <span class="n">file_names</span> <span class="o">=</span> <span class="s1">&#39;default_names&#39;</span><span class="p">,</span> <span class="n">parse</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">make_default</span> <span class="o">=</span> <span class="n">is_default</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;excel&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;xlsx&#39;</span> <span class="ow">in</span> <span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                <span class="bp">self</span> <span class="o">=</span> <span class="n">import_case_excel</span><span class="p">(</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">case_name</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="n">import_address</span><span class="p">,</span> <span class="n">parse</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">make_default</span> <span class="o">=</span> <span class="n">is_default</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;txt&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;pickle&#39;</span> <span class="ow">in</span> <span class="n">import_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                <span class="bp">self</span> <span class="o">=</span> <span class="n">import_case_pickle</span><span class="p">(</span><span class="n">case_name</span> <span class="o">=</span> <span class="n">case_name</span><span class="p">,</span> <span class="n">make_default</span> <span class="o">=</span> <span class="n">is_default</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        
        <span class="k">return</span> <span class="bp">self</span> </div>
        
    

    <span class="c1"># Methods for cleaning and parsing case data</span>
    
<div class="viewcode-block" id="Case.parse_rawdata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.parse_rawdata">[docs]</a>    <span class="k">def</span> <span class="nf">parse_rawdata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses raw data entries for all inputted items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
    
<div class="viewcode-block" id="Case.extract_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.extract_links">[docs]</a>    <span class="k">def</span> <span class="nf">extract_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts links from all inputted items&#39; raw data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_id : str</span>
<span class="sd">            one or more item ID&#39;s to parse.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">extract_links</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>


    <span class="c1"># Methods for identifying and analysing case keywords</span>
    
<div class="viewcode-block" id="Case.generate_keywords"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_keywords">[docs]</a>    <span class="k">def</span> <span class="nf">generate_keywords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequent_words</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">central_words</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates keywords from Case item data and appends to case dataframes.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequent_words : bool</span>
<span class="sd">            whether to generate keywords based on word frequency. Defaults to True.</span>
<span class="sd">        central_words : bool</span>
<span class="sd">            whether to generate keywords based on word centrality. Defaults to False.</span>
<span class="sd">        detailed : bool</span>
<span class="sd">            whether to return detailed keywords results. Defaults to True.</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean raw data before analysing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">frequent_words</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">detailed</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_word_frequencies_detailed</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_word_frequencies</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">central_words</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">central_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort_keywords_by_centrality</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        
    
<div class="viewcode-block" id="Case.sort_keywords_by_centrality"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.sort_keywords_by_centrality">[docs]</a>    <span class="k">def</span> <span class="nf">sort_keywords_by_centrality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sorts keywords by their centrality in the words coincidence network. Returns a dataframe.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : int</span>
<span class="sd">            a limit for how many words to analyse.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;coinciding_words&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords_coincidence_network</span><span class="p">(</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">all_centralities</span><span class="p">(</span><span class="n">network</span> <span class="o">=</span> <span class="s1">&#39;coinciding_words&#39;</span><span class="p">)</span>
        <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;keyword&#39;</span>
        
        <span class="k">return</span> <span class="n">df</span></div>
    
          

    <span class="c1"># Methods for synchronising case objects</span>
    
<div class="viewcode-block" id="Case.select_update_source"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.select_update_source">[docs]</a>    <span class="k">def</span> <span class="nf">select_update_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assesses whehther to use Case items or Case dataframes as the data source for data synchronisation.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : str</span>
<span class="sd">            the attribute name of the most recently edited data source (items or dataframes).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">changelog</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_objs_changelog</span><span class="p">()</span>
        <span class="n">earliest</span> <span class="o">=</span> <span class="n">changelog</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">latest</span> <span class="o">=</span> <span class="n">changelog</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">total_td</span> <span class="o">=</span> <span class="n">latest</span> <span class="o">-</span> <span class="n">earliest</span>

        <span class="k">if</span> <span class="n">total_td</span> <span class="o">==</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>
            <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;do not update&#39;</span>
            <span class="k">return</span> <span class="n">update_source</span>

        <span class="n">items_dfs_changelog</span> <span class="o">=</span> <span class="n">changelog</span><span class="p">[(</span><span class="n">changelog</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="s1">&#39;dataframes&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">changelog</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="s1">&#39;items&#39;</span><span class="p">)]</span>
        <span class="n">td</span> <span class="o">=</span> <span class="n">items_dfs_changelog</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">items_dfs_changelog</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">td</span> <span class="o">==</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span>

            <span class="n">df_items_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">get_items_set</span><span class="p">()</span>
            <span class="n">items_obj_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">())</span>

            <span class="k">if</span> <span class="n">df_items_ids</span> <span class="o">==</span> <span class="n">items_obj_ids</span><span class="p">:</span>
                <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;no source&#39;</span>

            <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">df_items_ids</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">items_obj_ids</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                        <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;items&#39;</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">items_obj_ids</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">df_items_ids</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                            <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;dataframes&#39;</span>

                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">df_ids_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_items_ids</span><span class="p">)</span>
                            <span class="n">items_ids_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items_obj_ids</span><span class="p">)</span>

                            <span class="k">if</span> <span class="n">df_ids_len</span> <span class="o">&gt;</span> <span class="n">items_ids_len</span><span class="p">:</span>
                                <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;dataframes&#39;</span>

                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">df_ids_len</span> <span class="o">&lt;</span> <span class="n">items_ids_len</span><span class="p">:</span>
                                    <span class="n">update_source</span> <span class="o">=</span> <span class="s1">&#39;items&#39;</span>

                                <span class="k">else</span><span class="p">:</span>
                                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">update_source</span> <span class="o">=</span> <span class="n">items_dfs_changelog</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>

        <span class="k">return</span> <span class="n">update_source</span></div>

    

<div class="viewcode-block" id="Case.update_dataframes_from_item"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_dataframes_from_item">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataframes_from_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates Case dataframes with data from a specific CaseItem. Adds item to dataframes if not present.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">get_items_set</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>

        <span class="n">item_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="n">item_metadata</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">item_data</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">data</span>
        <span class="n">item_info</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">information</span>
        <span class="n">item_links</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">links</span>
        <span class="n">item_refs</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">references</span>
        <span class="n">item_contents</span> <span class="o">=</span> <span class="n">item_obj</span><span class="o">.</span><span class="n">contains</span>

        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">item_metadata</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">item_metadata</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">category</span> <span class="o">=</span> <span class="n">item_metadata</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span>

        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">item_data</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">datatype</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">rawdata</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="n">datatype</span><span class="p">]</span> <span class="o">=</span> <span class="n">rawdata</span>

        <span class="n">info_categories</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">item_info</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">info_categories</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">category</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="p">[</span><span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                
            <span class="n">info_list</span> <span class="o">=</span> <span class="n">item_info</span><span class="p">[</span><span class="n">item_info</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">category</span><span class="p">][</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_list</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_links</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_refs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">item_id</span><span class="p">,</span> <span class="s1">&#39;contents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_contents</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>


<div class="viewcode-block" id="Case.update_dataframes_from_all_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_dataframes_from_all_items">[docs]</a>    <span class="k">def</span> <span class="nf">update_dataframes_from_all_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates Case dataframes with data from all CaseItems. Adds items to dataframes if not present.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">item_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">item_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="Case.df_row_to_data"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.df_row_to_data">[docs]</a>    <span class="k">def</span> <span class="nf">df_row_to_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates CaseItem data with data from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span>
        
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">item_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>

            <span class="n">raw_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">raw_data</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">item_data</span><span class="p">[</span><span class="s1">&#39;Raw data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">():</span>

                <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Datatype&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span>
                <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Raw data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw_data</span>
                <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Stored as&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>
                <span class="n">size</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>
                <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Size (bytes)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">size</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">row</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;word&#39;</span> <span class="ow">in</span> <span class="n">row</span><span class="p">):</span>
                    <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Format&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;txt&#39;</span>

                <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;html&#39;</span> <span class="ow">in</span> <span class="n">row</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">row</span> <span class="o">==</span> <span class="s1">&#39;web code&#39;</span><span class="p">):</span>
                    <span class="n">item_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Format&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;html&#39;</span>

        <span class="k">return</span> <span class="n">item_data</span></div>
    
    
<div class="viewcode-block" id="Case.df_row_to_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.df_row_to_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">df_row_to_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates CaseItem metadata with metadata from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span>
        
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Category&#39;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">]]</span>
        
        <span class="n">item_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">item_metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">item_metadata</span><span class="p">,</span> <span class="n">metadata</span><span class="p">])</span>
        <span class="n">item_metadata</span> <span class="o">=</span> <span class="n">item_metadata</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">([</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="n">item_metadata</span></div>
    
    
<div class="viewcode-block" id="Case.df_row_to_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.df_row_to_info">[docs]</a>    <span class="k">def</span> <span class="nf">df_row_to_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates CaseItem information with information from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span>
        
        <span class="n">information</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Category&#39;</span>
        <span class="n">information</span> <span class="o">=</span> <span class="n">information</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">information</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">information</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
        <span class="n">information</span> <span class="o">=</span> <span class="n">information</span><span class="p">[[</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">to_drop</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">information</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                <span class="n">to_drop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                <span class="n">index_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">label</span><span class="p">:</span>
                    <span class="n">information</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index_len</span><span class="p">,</span> <span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>
                    <span class="n">information</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index_len</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">information</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">index_len</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">information</span> <span class="o">=</span> <span class="n">information</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="n">info_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span>
        <span class="n">info_obj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">info_obj</span><span class="p">,</span> <span class="n">information</span><span class="p">])</span>
        <span class="n">info_obj</span> <span class="o">=</span> <span class="n">info_obj</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="n">info_obj</span></div>
    
    
<div class="viewcode-block" id="Case.df_row_to_other"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.df_row_to_other">[docs]</a>    <span class="k">def</span> <span class="nf">df_row_to_other</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates CaseItem links, references, and contents from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span>
        
        <span class="n">other</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="n">links</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;links&#39;</span><span class="p">,</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">links</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
            
        <span class="n">refs</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">,</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">refs</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">refs</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="n">contents</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;contents&#39;</span><span class="p">,</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">contents</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="n">item_links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span>
        <span class="k">if</span> <span class="n">item_links</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">links_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">item_links</span> <span class="o">+</span> <span class="n">links</span><span class="p">))</span>
        
        <span class="n">item_refs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">references</span>
        <span class="k">if</span> <span class="n">item_refs</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_refs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">refs_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">item_refs</span> <span class="o">+</span> <span class="n">refs</span><span class="p">))</span>
        
        <span class="n">item_contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">contains</span>
        <span class="k">if</span> <span class="n">item_contents</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">contents_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">item_contents</span> <span class="o">+</span> <span class="n">contents</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="p">[</span><span class="n">links_set</span><span class="p">,</span> <span class="n">refs_set</span><span class="p">,</span> <span class="n">contents_set</span><span class="p">]</span></div>
        
        
<div class="viewcode-block" id="Case.update_item_from_dataframes"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_item_from_dataframes">[docs]</a>    <span class="k">def</span> <span class="nf">update_item_from_dataframes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates CaseItem from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">add_blank_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_row_to_data</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_row_to_metadata</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_row_to_info</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>

        <span class="n">other_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df_row_to_other</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span> <span class="o">=</span> <span class="n">other_res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">references</span> <span class="o">=</span> <span class="n">other_res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">contains</span> <span class="o">=</span> <span class="n">other_res</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

        
<div class="viewcode-block" id="Case.update_items_from_dataframes"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_items_from_dataframes">[docs]</a>    <span class="k">def</span> <span class="nf">update_items_from_dataframes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates all CaseItems from Case dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">get_items_set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">df_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_item_from_dataframes</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

            
<div class="viewcode-block" id="Case.sync_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.sync_items">[docs]</a>    <span class="k">def</span> <span class="nf">sync_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Synchronises Case items and dataframes.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Implementation:</span>
<span class="sd">            #. Checks for the most recently updated data source (items or dataframes). If both updated at same time, returns.</span>
<span class="sd">            #. Updates data from the selected source.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">update_source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_update_source</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">update_source</span> <span class="o">==</span> <span class="s1">&#39;do not update&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">update_source</span> <span class="o">==</span> <span class="s1">&#39;no source&#39;</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">update_source</span> <span class="o">==</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_dataframes_from_all_items</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">update_source</span> <span class="o">==</span> <span class="s1">&#39;dataframes&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_items_from_dataframes</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_files"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_files">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all CaseFile objects from the Case and its attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="n">item_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="n">fileset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="n">item_files</span> <span class="o">=</span> <span class="n">item_files</span> <span class="o">+</span> <span class="n">fileset</span>

        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">item_files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    
        <span class="n">entities_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="n">fileset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">get_entity</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="n">entities_files</span> <span class="o">=</span> <span class="n">entities_files</span> <span class="o">+</span> <span class="n">fileset</span>

        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">entities_files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="n">events_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="n">fileset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">get_event</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="n">events_files</span> <span class="o">=</span> <span class="n">events_files</span> <span class="o">+</span> <span class="n">fileset</span>

        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">events_files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">files</span></div>

<div class="viewcode-block" id="Case.sync_files"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.sync_files">[docs]</a>    <span class="k">def</span> <span class="nf">sync_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves all CaseFiles from Case&#39;s attributes and adds to the Case&#39;s top-level collection of CaseFiles.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">all_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_files</span><span class="p">()</span>
        <span class="n">all_files_plus_paths</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_name</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">obj_path</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">path</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_files</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">all_files_plus_paths</span><span class="p">)</span>

        <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_files_plus_paths</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>

        <span class="n">output</span> <span class="o">=</span> <span class="n">CaseFileSet</span><span class="p">()</span>
    
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>

            <span class="n">df_masked</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">first_source</span> <span class="o">=</span> <span class="n">df_masked</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

            <span class="n">relations</span> <span class="o">=</span> <span class="n">CaseRelationSet</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df_masked</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">rels</span> <span class="o">=</span> <span class="n">df_masked</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">relations</span>
                <span class="n">relations</span> <span class="o">=</span> <span class="n">relations</span> <span class="o">+</span> <span class="n">rels</span>

            <span class="n">first_source</span><span class="o">.</span><span class="n">relations</span> <span class="o">=</span> <span class="n">relations</span>

            <span class="n">output</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span><span class="n">first_source</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">files</span> <span class="o">=</span> <span class="n">output</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span></div>
    
<div class="viewcode-block" id="Case.update_case"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.update_case">[docs]</a>    <span class="k">def</span> <span class="nf">update_case</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sync_items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">sync_files</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Synchronises Case items and dataframes; reruns analysis processes on the updated data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sync_items : bool</span>
<span class="sd">            whether or not to synchronise items and dataframes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">keywords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span>
        <span class="n">indexes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">indexed</span>
        <span class="n">coinciding_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">coincidences_identified</span>
        <span class="n">networks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">networks_generated</span>
        <span class="n">analytics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">analytics_generated</span>

        <span class="k">if</span> <span class="n">sync_items</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sync_items</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">sync_files</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sync_files</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">keywords</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">indexes</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">coinciding_data</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_all_networks</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">analytics</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_analytics</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

    <span class="c1"># Methods for deleting objects and data from case</span>
    
<div class="viewcode-block" id="Case.delete_item"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.delete_item">[docs]</a>    <span class="k">def</span> <span class="nf">delete_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes an item from the Case. Takes either an item or an item ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">delete_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.delete_all_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.delete_all_items">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all items from the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delete_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.delete_all_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.delete_all_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all metadata from Case items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">delete_all_metadata</span><span class="p">()</span>
        <span class="nb">delattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;data_id&#39;</span><span class="p">,</span>
                                                    <span class="s1">&#39;hash&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;description&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;type&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;format&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;size&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;source&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;domain&#39;</span><span class="p">,</span>
                                                    <span class="s1">&#39;url&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;created_at&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;created_by&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;last_changed_at&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;last_changed_by&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;uploaded_at&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;uploaded_by&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;region&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;location&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;address&#39;</span><span class="p">,</span>
                                                     <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span>
                                                   <span class="s1">&#39;language&#39;</span><span class="p">]</span>
                                               <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.delete_all_data"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.delete_all_data">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all data from Case items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">delete_all_data</span><span class="p">()</span>
        <span class="nb">delattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;audio&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.delete_all_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.delete_all_info">[docs]</a>    <span class="k">def</span> <span class="nf">delete_all_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes all information from Case items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">delete_all_info</span><span class="p">()</span>
        <span class="nb">delattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="p">,</span> <span class="s1">&#39;information&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;people&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;organisations&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;regions&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;places&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;time periods&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;date_times&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;events&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;activities&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;symbols&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;weather&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;objects&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;languages&#39;</span><span class="p">])</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
    

    <span class="c1"># Methods for retrieving objects and data from case</span>
    
<div class="viewcode-block" id="Case.get_obj"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_obj">[docs]</a>    <span class="k">def</span> <span class="nf">get_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_name</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a Case object if given its name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">obj_name</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">obj_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Object name: &#39;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">obj_name</span><span class="p">]</span></div>

<div class="viewcode-block" id="Case.get_objs_last_changed_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_objs_last_changed_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_objs_last_changed_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns last changed time properties for all objects as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">out_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">out_dict</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">last_changed_at</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">out_dict</span></div>

    
<div class="viewcode-block" id="Case.get_objs_changelog"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_objs_changelog">[docs]</a>    <span class="k">def</span> <span class="nf">get_objs_changelog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">            </span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Returns changelog for all objects as a pandas.DataFrame.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Created at&#39;</span><span class="p">,</span> <span class="s1">&#39;Last changed at&#39;</span><span class="p">])</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">obj_name</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj</span><span class="p">(</span><span class="n">obj_name</span><span class="p">)</span>
                    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">obj_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                                    <span class="n">obj</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span> 
                                    <span class="n">obj</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">last_changed_at</span>
                                    <span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>

            <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Object&#39;</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Created at&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Created at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Last changed at&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Last changed at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">)</span>
            
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Last changed at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

        
    
    
<div class="viewcode-block" id="Case.get_item"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_item">[docs]</a>    <span class="k">def</span> <span class="nf">get_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an item if given its ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span></div>
    
<div class="viewcode-block" id="Case.get_items_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_items_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_items_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all items as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_item_ids"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_item_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_item_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all item IDs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_item_count"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_item_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_item_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of items in the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">count_items</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_items_dfs_change_timedelta"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_items_dfs_change_timedelta">[docs]</a>    <span class="k">def</span> <span class="nf">get_items_dfs_change_timedelta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns time difference between when items and dataframes were last changed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_objs_changelog</span><span class="p">()</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="s1">&#39;dataframes&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="s1">&#39;items&#39;</span><span class="p">)]</span>

        <span class="n">td</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">td</span></div>
    
<div class="viewcode-block" id="Case.get_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information entries as a Pandas series.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">select_by_category</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">select_by_category</span> <span class="o">=</span> <span class="p">[</span><span class="n">select_by_category</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">select_by_category</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
             <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">select_by_category</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">df</span></div>
    
<div class="viewcode-block" id="Case.get_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata from dataframes as a Pandas series.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">select_by_category</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">select_by_category</span> <span class="o">=</span> <span class="p">[</span><span class="n">select_by_category</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">select_by_category</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
             <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">select_by_category</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">df</span></div>
    
    
    <span class="k">def</span> <span class="nf">get_all_addresses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all address metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None results. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_addresses</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>
    
    
    <span class="k">def</span> <span class="nf">get_all_urls_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_urls_metadata</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">get_urls_metadata_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_urls_metadata_set</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">get_urls_metadata_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary containing all URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_urls_metadata_dict</span><span class="p">()</span>
    
<div class="viewcode-block" id="Case.get_all_data"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all data from all items. Can choose to return only a specified data type.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_type : str</span>
<span class="sd">            specifies a datatype to return. Defaults to None; all data types returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_rawdata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_rawdata">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_rawdata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all raw data entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_rawdata</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_rawdata_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_rawdata_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_rawdata_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique raw data entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_rawdata_set</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_rawdata_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_rawdata_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_rawdata_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for unique raw data entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_rawdata_frequencies</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_rawdata_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_rawdata_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_rawdata_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for unique raw data entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_rawdata_stats</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_data_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_data_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_data_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect of raw data sets from all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_data_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_data_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_data_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_data_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of raw data sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., all raw data entries which are only in one set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_data_symmetric_difference</span><span class="p">()</span></div>
    

<div class="viewcode-block" id="Case.get_all_words"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_words">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_words</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all words parsed from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_words</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.get_word_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_word_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_word_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for all words found in parsed data across all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_word_frequencies</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.get_word_frequencies_detailed"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_word_frequencies_detailed">[docs]</a>    <span class="k">def</span> <span class="nf">get_word_frequencies_detailed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns detailed breakdown of frequency counts for all words found in parsed data across all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : pandas.DataFrame </span>
<span class="sd">            a dataframe featuring:</span>
<span class="sd">                * word (index)</span>
<span class="sd">                * found_in: a list of item IDs where the word was found</span>
<span class="sd">                * found_in_count: how many items in which the word was found</span>
<span class="sd">                * frequency_per_item: the mean number of times each item contained the word</span>
<span class="sd">                * breakdown: a dictionary recording the number of times each item contained the word</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_word_frequencies_detailed</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.word_mean_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.word_mean_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">word_mean_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the mean number of times each word in items&#39; parsed data occurred per item.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">word_mean_frequencies</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_most_frequent_words"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_most_frequent_words">[docs]</a>    <span class="k">def</span> <span class="nf">get_most_frequent_words</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="mi">15</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the most frequently occurring words.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        top : int</span>
<span class="sd">            how many words to return.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_most_frequent_words</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">top</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.highest_frequency_per_items_words"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.highest_frequency_per_items_words">[docs]</a>    <span class="k">def</span> <span class="nf">highest_frequency_per_items_words</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="mi">15</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the most frequently occurring words per item.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        top : int</span>
<span class="sd">            how many words to return.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">highest_frequency_per_items_words</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">,</span> <span class="n">top</span> <span class="o">=</span> <span class="n">top</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_word_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_word_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_word_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for all words found in items&#39; parsed data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_word_stats</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_word_stats_detailed"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_word_stats_detailed">[docs]</a>    <span class="k">def</span> <span class="nf">get_word_stats_detailed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns detailed frequency statistics for all words found in items&#39; parsed data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        </span>
<span class="sd">        Returns </span>
<span class="sd">        -------</span>
<span class="sd">        result : pandas.DataFrame</span>
<span class="sd">            a dataframe featuring descriptive statistics for:</span>
<span class="sd">                * frequency: the number of times a word appeared across the item set.</span>
<span class="sd">                * found_in_count: how many items in which a word was found.</span>
<span class="sd">                * frequency_per_item: the mean number of times each item contained a word.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_word_stats_detailed</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.rawdata_with_words"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.rawdata_with_words">[docs]</a>    <span class="k">def</span> <span class="nf">rawdata_with_words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dataframe displaying items&#39; raw data entries and the words extracted from them.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">rawdata_with_words</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_words_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_words_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_words_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique words parsed from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_words_set</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_words_set_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_words_set_size">[docs]</a>    <span class="k">def</span> <span class="nf">get_words_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of unique words parsed from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_words_set_size</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_words_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_words_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_words_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersection of all items&#39; word sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any words shared by all items.</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_words_intersect</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_words_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_words_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_words_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of all items&#39; word sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any words *not* shared by all items.</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        clean : bool</span>
<span class="sd">            whether to clean text when parsing. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_words_symmetric_difference</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="n">clean</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.get_keywords"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_keywords">[docs]</a>    <span class="k">def</span> <span class="nf">get_keywords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ranking</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span><span class="p">):</span>
<span class="w">            </span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Returns a keywords dataframe based on user&#39;s choice of ranking metric.</span>
<span class="sd">            </span>
<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            ranking : str</span>
<span class="sd">                metric for ranking keywords. Either &#39;frequency&#39; or &#39;centrality&#39;.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            
            <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;frequent_words&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">contents</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">=</span> <span class="kc">True</span>
            
            <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;central_words&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">contents</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">central_words</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">=</span> <span class="kc">True</span>
            
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">ranking</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Ranking must be a string&#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;frequent&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;frequent_words&#39;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;centrality&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;central&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ranking</span> <span class="o">==</span> <span class="s1">&#39;central_words&#39;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">central_words</span></div>
    

<div class="viewcode-block" id="Case.get_all_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_series"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_series">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information entries as a Pandas series.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_series</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span></div>
    
<div class="viewcode-block" id="Case.get_info_list"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information entries as a list of tuples.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_list</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_count"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns number of information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_count</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns set of unique information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_set_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_set_size">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of unique information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_set_size</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_repeated_info_count"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_repeated_info_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_repeated_info_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of repeated information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_repeated_info_count</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information entries as dictionary.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_dict</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the frequency counts for information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_frequencies</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_stats</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_frequencies_by_category"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_frequencies_by_category">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_frequencies_by_category</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the frequency counts for information categories and labels.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_frequencies_by_category</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_stats_by_category"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_stats_by_category">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_stats_by_category</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for information categories and labels.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a information category to return. Defaults to None: returns information from all categories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_stats_by_category</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_category_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_category_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_category_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for all information categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a category to return. Defaults to None: all categories are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_category_frequencies</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_category_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_category_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_category_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for all information categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a category to return. Defaults to None: all categories are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_category_stats</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_info_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect of information sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any information entries which are found in all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_info_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of information sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any information entries which are *not* found in all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_symmetric_difference</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.case_info_sets_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.case_info_sets_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">case_info_sets_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between information sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many information entries are found in all versus the total number.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_info_sets_similarity</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary of metadata from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_dict</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_nested_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_nested_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_nested_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns metadata from all items as a dictionary of dictionaries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : dict</span>
<span class="sd">            a dictionary where each key is an item and each value is itself a dictionary containing metadata categories and values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_nested_dict</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_series"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_series">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata from all items as a Pandas series.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_series</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_list"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all metadata values from all items. Does not return metadata categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_list</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a set of all unique metadata values from all items. Does not return metadata categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for all combinations of metadata categories and values.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_frequencies</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for all combinations of metadata categories and values.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_stats</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_metadata_sets"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_metadata_sets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_metadata_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns unique metadata values from all items as a list of sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_metadata_sets</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.get_metadata_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect of metadata sets from all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of metadata sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., all metadata entries which are only in one set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_symmetric_difference</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_sets_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_sets_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_sets_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between metadata sets from all items.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many metadata entries are shared by all versus the total number.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_sets_similarity</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.get_metadata_categories"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_categories">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_categories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata categories from all items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty metadata categories. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_categories</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_metadata_category_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_category_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_category_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for all metadata categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty metadata categories. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_category_frequencies</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.get_metadata_category_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_category_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_category_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for all metadata categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty metadata categories. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_metadata_category_stats</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_addresses"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_addresses">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_addresses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all address metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None results. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_addresses</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_address_list"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_address_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_address_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all address metadata entries as a list.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None results. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_address_list</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
    <span class="c1"># returns set of all addresses</span>

<div class="viewcode-block" id="Case.get_address_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_address_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_address_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique address metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None results. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_address_set</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_address_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_address_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_address_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary address metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None results. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_address_dict</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_urls_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_urls_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_urls_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_urls_metadata</span><span class="p">()</span></div>
    

<div class="viewcode-block" id="Case.get_urls_metadata_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_urls_metadata_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_urls_metadata_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_urls_metadata_set</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.get_urls_metadata_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_urls_metadata_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_urls_metadata_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary containing all URL metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_urls_metadata_dict</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_links">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_links</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all links found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_links</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique links found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_set</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_link_sets"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_link_sets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_link_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the unique links found in each item as a list of sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_link_sets</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.get_links_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersection of all items&#39; link sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any links shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of all items&#39; link sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any links *not* shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_symmetric_difference</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_link_sets_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_link_sets_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">get_link_sets_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between all items&#39; link sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many links are found in all versus the total number.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_link_sets_similarity</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns links as a dictionary.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Dictionary structure:</span>
<span class="sd">            * keys: item IDs</span>
<span class="sd">            * values: link lists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_dict</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for links.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_frequencies</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_frequencies_detailed"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_frequencies_detailed">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_frequencies_detailed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for links with detail on where each link was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_frequencies_detailed</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_links_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_links_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_links_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for links.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_links_stats</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_refs"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_refs">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all references found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_refs</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique references found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_set</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_refs_sets"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_refs_sets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_refs_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the unique references found in each item as a list of sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_refs_sets</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.get_refs_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersection of all items&#39; references sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any references shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of all items&#39; references sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any references *not* shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_symmetric_difference</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_sets_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_sets_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_sets_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between all items&#39; references sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many references are found in all versus the total number of unique references.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_sets_similarity</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns references as a dictionary.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Dictionary structure:</span>
<span class="sd">            * keys: item IDs</span>
<span class="sd">            * values: references lists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_dict</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for references.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_frequencies</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_refs_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_refs_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_refs_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for references.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_refs_stats</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_contents"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_contents">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all contents entries found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_contents</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_set"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the set of unique contents entries found in items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_set</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_all_contents_sets"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_contents_sets">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_contents_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the unique contents entries found in each item as a list of sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_contents_sets</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.get_contents_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersection of all items&#39; contents sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any contents entries shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_intersect</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_symmetric_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_symmetric_difference">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_symmetric_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the symmetric difference of all items&#39; contents sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any contents entries *not* shared by all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_symmetric_difference</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_sets_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_sets_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_sets_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between all items&#39; contents sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many contents entries are found in all versus the total number of unique references.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_sets_similarity</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_dict"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_dict">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns item contents as a dictionary.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Dictionary structure:</span>
<span class="sd">            * keys: item IDs</span>
<span class="sd">            * values: references lists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_dict</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency counts for contents entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_frequencies</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.get_contents_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_contents_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_contents_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns frequency statistics for contents entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_contents_stats</span><span class="p">()</span></div>
    

    <span class="c1"># Methods for checking if objects and data are in case</span>
    
<div class="viewcode-block" id="Case.check_for_item_id"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.check_for_item_id">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_item_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the Case contains an item ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">check_for_item_id</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.check_for_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.check_for_info">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a string matches any of the Case&#39;s item information entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">check_for_info</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">,</span> <span class="n">category</span> <span class="o">=</span> <span class="n">category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.check_for_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.check_for_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a string matches any of the Case&#39;s item metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">check_for_metadata</span><span class="p">(</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">category</span> <span class="o">=</span> <span class="n">category</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.check_for_link"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.check_for_link">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a string matches any of the Case&#39;s item link entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">check_for_link</span><span class="p">(</span><span class="n">link</span> <span class="o">=</span> <span class="n">link</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.check_for_address"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.check_for_address">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a string matches any of the Case&#39;s item address metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">check_for_address</span><span class="p">(</span><span class="n">address</span> <span class="o">=</span> <span class="n">address</span><span class="p">)</span></div>
    

    <span class="c1"># Methods for analysing data similarity</span>
    
<div class="viewcode-block" id="Case.items_text_cosine"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_text_cosine">[docs]</a>    <span class="k">def</span> <span class="nf">items_text_cosine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cosine similarity of two items&#39; text based on word frequencies.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare. Defaults to requesting from user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare. Defaults to requesting from user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">text_cosine</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
    
<div class="viewcode-block" id="Case.items_text_levenshtein"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_text_levenshtein">[docs]</a>    <span class="k">def</span> <span class="nf">items_text_levenshtein</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the levenshtein distance between two items&#39; text.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare. Defaults to requesting from user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare. Defaults to requesting from user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">text_levenshtein</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.items_words_cosine"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_words_cosine">[docs]</a>    <span class="k">def</span> <span class="nf">items_words_cosine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cosine similarity of two items&#39; parsed words based on word frequencies.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare. Defaults to requesting from user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare. Defaults to requesting from user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">words_cosine</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.items_words_levenshtein"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_words_levenshtein">[docs]</a>    <span class="k">def</span> <span class="nf">items_words_levenshtein</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the levenshtein distance between two items&#39; parsed word sets.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare. Defaults to requesting from user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare. Defaults to requesting from user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">words_levenshtein</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.items_words_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_words_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">items_words_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect of two items&#39; parsed word sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., any words shared by both items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">words_intersect</span><span class="p">(</span><span class="n">input_1</span> <span class="o">=</span> <span class="n">input_1</span><span class="p">,</span> <span class="n">input_2</span> <span class="o">=</span> <span class="n">input_2</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.items_words_set_sim"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_words_set_sim">[docs]</a>    <span class="k">def</span> <span class="nf">items_words_set_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between two items&#39; parsed words sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many words are found in both versus the total number of words found.</span>
<span class="sd">          </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">words_set_sim</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.all_items_words_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.all_items_words_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">all_items_words_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_by</span> <span class="o">=</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares items&#39; parsed words for all combinations of two items. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_words_comparisons</span><span class="p">(</span><span class="n">sort_by</span> <span class="o">=</span> <span class="n">sort_by</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.items_metadata_levenshteins"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_metadata_levenshteins">[docs]</a>    <span class="k">def</span> <span class="nf">items_metadata_levenshteins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the levenshtein distance between metadata data entries for each category in two items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">metadata_category_levenshteins</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.items_metadata_mean_levenshtein"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_metadata_mean_levenshtein">[docs]</a>    <span class="k">def</span> <span class="nf">items_metadata_mean_levenshtein</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the mean levenshtein distance between metadata data entries for each category in two items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">metadata_mean_levenshteins</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.items_metadata_cosine"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_metadata_cosine">[docs]</a>    <span class="k">def</span> <span class="nf">items_metadata_cosine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cosine similarity of two items&#39; metadata lists based on word frequencies.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">metadata_cosine</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.items_metadata_set_sim"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_metadata_set_sim">[docs]</a>    <span class="k">def</span> <span class="nf">items_metadata_set_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between two items&#39; metadata sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many metadata entries are found in both versus the total number of metadata entries found.</span>
<span class="sd">          </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">metadata_set_sim</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.all_items_metadata_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.all_items_metadata_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">all_items_metadata_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_by</span> <span class="o">=</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares items&#39; metadata for all combinations of two items. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_metadata_comparisons</span><span class="p">(</span><span class="n">sort_by</span> <span class="o">=</span> <span class="n">sort_by</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.items_info_cosine"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_info_cosine">[docs]</a>    <span class="k">def</span> <span class="nf">items_info_cosine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cosine similarity of two items&#39; information entries based on word frequencies.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to compare.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to compare.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">info_cosine</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.items_info_set_sim"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_info_set_sim">[docs]</a>    <span class="k">def</span> <span class="nf">items_info_set_sim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_1</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between two items&#39; information sets.</span>
<span class="sd">        </span>
<span class="sd">        i.e., how many information entries are found in both versus the total number of information entries found.</span>
<span class="sd">          </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item_1 : str</span>
<span class="sd">            first item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        item_2 : str</span>
<span class="sd">            second item to retrieve data from. Defaults to requesting user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">info_set_sim</span><span class="p">(</span><span class="n">item_1</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">,</span> <span class="n">item_2</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.all_items_info_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.all_items_info_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">all_items_info_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_by</span> <span class="o">=</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares items&#39; information entries for all combinations of two items. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_info_comparisons</span><span class="p">(</span><span class="n">sort_by</span> <span class="o">=</span> <span class="n">sort_by</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="Case.info_levenshteins"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_levenshteins">[docs]</a>    <span class="k">def</span> <span class="nf">info_levenshteins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the levenshtein distance between two information labels, organised by category. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">info_levenshteins</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
        
    
<div class="viewcode-block" id="Case.find_info_close_matches"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.find_info_close_matches">[docs]</a>    <span class="k">def</span> <span class="nf">find_info_close_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds similar information entries based on text similarity. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cutoff : float</span>
<span class="sd">            the maximum levenshtein distance to be included in the result.</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies an information category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * iterates through every combination of two information label/category tuples.</span>
<span class="sd">            * ranks based on levenshtein distance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">find_info_close_matches</span><span class="p">(</span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>


<div class="viewcode-block" id="Case.metadata_levenshteins"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_levenshteins">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_levenshteins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the levenshtein distance between two metadata entries, organised by category. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">metadata_levenshteins</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
        
        
    
<div class="viewcode-block" id="Case.find_metadata_close_matches"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.find_metadata_close_matches">[docs]</a>    <span class="k">def</span> <span class="nf">find_metadata_close_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds similar metadata entries based on text similarity. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cutoff : float</span>
<span class="sd">            the maximum levenshtein distance to be included in the result.</span>
<span class="sd">        select_by_category : str</span>
<span class="sd">            specifies a metadata category to return. Defaults to None: metadata from all categories are returned.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to return empty/None metadata entries. Defaults to True: empty/None entries are not returned.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * iterates through every combination of two metadata value/category tuples.</span>
<span class="sd">            * ranks based on levenshtein distance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">find_metadata_close_matches</span><span class="p">(</span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="Case.keyword_levenshteins"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.keyword_levenshteins">[docs]</a>    <span class="k">def</span> <span class="nf">keyword_levenshteins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exclude_numbers</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the levenshtein distance between two keyword entries. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">keyword_levenshteins</span><span class="p">(</span><span class="n">exclude_numbers</span> <span class="o">=</span> <span class="n">exclude_numbers</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.find_keywords_close_matches"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.find_keywords_close_matches">[docs]</a>    <span class="k">def</span> <span class="nf">find_keywords_close_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">exclude_numbers</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds similar keywords entries based on text similarity. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cutoff : float</span>
<span class="sd">            the maximum levenshtein distance to be included in the result.</span>
<span class="sd">        exclude_numbers : bool </span>
<span class="sd">            whether to ignore strings which may be integers or floats.</span>
<span class="sd">        limit : int</span>
<span class="sd">            the maximum number of comparisons to calculate. Used to prevent excessive runtime. Defaults to 600.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * iterates through every combination of two keywords.</span>
<span class="sd">            * ranks based on levenshtein distance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">find_keywords_close_matches</span><span class="p">(</span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff</span><span class="p">,</span> <span class="n">exclude_numbers</span> <span class="o">=</span> <span class="n">exclude_numbers</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="p">)</span></div>
    

    <span class="c1"># Methods for analysing time metadata</span>
    
<div class="viewcode-block" id="Case.created_time_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.created_time_difference">[docs]</a>    <span class="k">def</span> <span class="nf">created_time_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the time difference between items&#39; created time metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        time_difference : datetime.timedelta</span>
<span class="sd">            the time difference between items&#39; created time metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">created_time_difference</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_created_times"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_created_times">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_created_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns created time metadata for all items as a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="Case.get_all_upload_times"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_upload_times">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_upload_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns uploaded time metadata for all items as a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;uploaded_at&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;uploaded_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="Case.get_all_last_changed_times"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_last_changed_times">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_last_changed_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns last changed time metadata for all items as a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;last_changed_at&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;last_changed_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.get_all_time_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_all_time_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_time_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all time metadata as a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="p">[[</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;uploaded_at&#39;</span><span class="p">,</span> <span class="s1">&#39;last_changed_at&#39;</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>
        
    
<div class="viewcode-block" id="Case.item_created_time_range"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_created_time_range">[docs]</a>    <span class="k">def</span> <span class="nf">item_created_time_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the difference between the first and last created time metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_created_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No item created times found&#39;</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="Case.item_uploaded_time_range"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_uploaded_time_range">[docs]</a>    <span class="k">def</span> <span class="nf">item_uploaded_time_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the difference between the first and last uploaded time metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_upload_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No uploaded times found&#39;</span><span class="p">)</span></div>

            
<div class="viewcode-block" id="Case.item_last_changed_time_range"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_last_changed_time_range">[docs]</a>    <span class="k">def</span> <span class="nf">item_last_changed_time_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the difference between the oldest and most recent last changed time metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_last_changed_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No last changed times found&#39;</span><span class="p">)</span></div>
            
    
<div class="viewcode-block" id="Case.items_timeline"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_timeline">[docs]</a>    <span class="k">def</span> <span class="nf">items_timeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;months&#39;</span><span class="p">,</span> <span class="n">intervals</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">date_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">.%m.%Y&#39;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plots a timeline of items&#39; time metadata. User can select which metadata to plot and the units to use. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        plot : str</span>
<span class="sd">            which time metadata variable to plot. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        units : str</span>
<span class="sd">            time units to use for plot. Defaults to &#39;months&#39;.</span>
<span class="sd">        intervals : int</span>
<span class="sd">            time intervals to use for plot. Defaults to 4.</span>
<span class="sd">        date_format : str</span>
<span class="sd">            date format to use for plot. Defaults to &#39;%d.%m.%Y&#39;.</span>
<span class="sd">        colour : str</span>
<span class="sd">            colour to use for plot. Defaults to &#39;blue&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">plot</span> <span class="o">==</span> <span class="s1">&#39;created_at&#39;</span><span class="p">:</span>
            <span class="n">dates_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_created_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
            <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_res</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">plot</span> <span class="o">==</span> <span class="s1">&#39;uploaded_at&#39;</span><span class="p">:</span>
            <span class="n">dates_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_upload_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
            <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_res</span><span class="p">[</span><span class="s1">&#39;uploaded_at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">plot</span> <span class="o">==</span> <span class="s1">&#39;last_changed&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">plot</span> <span class="o">==</span> <span class="s1">&#39;last_changed_at&#39;</span><span class="p">):</span>
            <span class="n">dates_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_last_changed_times</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
            <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_res</span><span class="p">[</span><span class="s1">&#39;last_changed_at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="n">names</span> <span class="o">=</span> <span class="n">dates_res</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        
        <span class="n">plot_timeline</span><span class="p">(</span><span class="n">dates</span> <span class="o">=</span> <span class="n">dates</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="p">,</span> <span class="n">plot</span> <span class="o">=</span> <span class="n">plot</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">intervals</span> <span class="o">=</span> <span class="n">intervals</span><span class="p">,</span> <span class="n">date_format</span> <span class="o">=</span> <span class="n">date_format</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="n">colour</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.item_metadata_time_ranges"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_metadata_time_ranges">[docs]</a>    <span class="k">def</span> <span class="nf">item_metadata_time_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the time difference between created and last changed metadata for all items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_time_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Item key&#39;</span><span class="p">]</span>

        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;last_changed_at&#39;</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Item&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="s1">&#39;start&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;start&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;end&#39;</span><span class="p">]</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">df</span></div>
    
    
<div class="viewcode-block" id="Case.plot_metadata_time_ranges"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.plot_metadata_time_ranges">[docs]</a>    <span class="k">def</span> <span class="nf">plot_metadata_time_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Plots a timeline of items&#39; edit histories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_metadata_time_ranges</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Item&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="n">plot_date_range_timeline</span><span class="p">(</span><span class="n">source</span> <span class="o">=</span> <span class="n">df</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">)</span></div>
    
    
    <span class="c1"># Methods for inferring information from data</span>
    
<div class="viewcode-block" id="Case.infer_names"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_names">[docs]</a>    <span class="k">def</span> <span class="nf">infer_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names_source</span> <span class="o">=</span> <span class="s1">&#39;all_personal_names&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies personal names from items&#39; text data and appends to information sets. Uses list of all personal names by default. Parses data if not parsed.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        names_source : str or list</span>
<span class="sd">            corpus of names corpus to use; or names corpus as list. Defaults to &#39;all_personal_names&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">infer_names</span><span class="p">(</span><span class="n">names_source</span> <span class="o">=</span> <span class="n">names_source</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="Case.infer_countries"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_countries">[docs]</a>    <span class="k">def</span> <span class="nf">infer_countries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies country names from items&#39; text data and appends to information sets. Uses list of all language names by default. Parses data if not parsed.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        language : str or list</span>
<span class="sd">            language of country names corpus to use; or country names corpus as list. Defaults to &#39;all&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">infer_countries</span><span class="p">(</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.infer_cities"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_cities">[docs]</a>    <span class="k">def</span> <span class="nf">infer_cities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies city names from items&#39; text data and appends to information sets. Uses list of all city names by default. Parses data if not parsed.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        language : str or list</span>
<span class="sd">            language of city names corpus to use; or city names corpus as list. Defaults to &#39;all&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">infer_cities</span><span class="p">(</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.infer_languages"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_languages">[docs]</a>    <span class="k">def</span> <span class="nf">infer_languages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies language names from items&#39; text data and appends to information sets. Uses list of all language names by default. Parses data if not parsed.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        language : str or list</span>
<span class="sd">            language of language names corpus to use; or language names corpus as list. Defaults to &#39;all&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">infer_languages</span><span class="p">(</span><span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.infer_all_info_categories"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_all_info_categories">[docs]</a>    <span class="k">def</span> <span class="nf">infer_all_info_categories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="s1">&#39;all_personal_names&#39;</span><span class="p">,</span> <span class="n">language</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies potential information from items&#39; text data and appends to information sets. Parses data if not parsed.</span>
<span class="sd">        </span>
<span class="sd">        Looks for:</span>
<span class="sd">            * personal names</span>
<span class="sd">            * country names</span>
<span class="sd">            * city names</span>
<span class="sd">            * language names</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        names : str or list</span>
<span class="sd">            corpus of names corpus to use; or names corpus as list. Defaults to &#39;all_personal_names&#39;.</span>
<span class="sd">        language : str or list</span>
<span class="sd">            language of city names corpus to use; or city names corpus as list. Defaults to &#39;all&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">infer_all_info_categories</span><span class="p">(</span><span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="p">,</span> <span class="n">language</span> <span class="o">=</span> <span class="n">language</span><span class="p">)</span></div>
        
    <span class="c1"># Methods for inferring additional metadata from existing metadata</span>
    
<div class="viewcode-block" id="Case.infer_locations_from_coordinates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_locations_from_coordinates">[docs]</a>    <span class="k">def</span> <span class="nf">infer_locations_from_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies locations associated with coordinates metadata using Geopy. Appends to &#39;location&#39; metadata category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_locations_from_coordinates</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.infer_coordinates_from_locations"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_coordinates_from_locations">[docs]</a>    <span class="k">def</span> <span class="nf">infer_coordinates_from_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies coordinates associated with locations metadata using Geopy. Appends to &#39;coordinates&#39; metadata category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_coordinates_from_locations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.infer_coordinates_from_ip_addresses"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_coordinates_from_ip_addresses">[docs]</a>    <span class="k">def</span> <span class="nf">infer_coordinates_from_ip_addresses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies coordinates associated with IP address metadata using Geopy. Appends to &#39;coordinates&#39; metadata category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_coordinates_from_ip_addresses</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
            
<div class="viewcode-block" id="Case.infer_locations_from_ip_addresses"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_locations_from_ip_addresses">[docs]</a>    <span class="k">def</span> <span class="nf">infer_locations_from_ip_addresses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies locations associated with IP address metadata using Geopy. Appends to &#39;location&#39; metadata category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_locations_from_ip_addresses</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.infer_internet_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_internet_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">infer_internet_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">domains</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ip_addresses</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies additional internet metadata from existing internet metadata using WhoIs results. Appends to metadata dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_internet_metadata</span><span class="p">(</span><span class="n">domains</span> <span class="o">=</span> <span class="n">domains</span><span class="p">,</span> <span class="n">ip_addresses</span> <span class="o">=</span> <span class="n">ip_addresses</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.infer_geolocation_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.infer_geolocation_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">infer_geolocation_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">regions</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies additional geolocation metadata from existing geolocation metadata using Geopy. Appends to metadata dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">infer_geolocation_metadata</span><span class="p">(</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">regions</span> <span class="o">=</span> <span class="n">regions</span><span class="p">)</span></div>
    

    <span class="c1"># Methods for analysing geolocation metadata</span>
    
<div class="viewcode-block" id="Case.coordinates_metadata_distance"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.coordinates_metadata_distance">[docs]</a>    <span class="k">def</span> <span class="nf">coordinates_metadata_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the geographic distance between two items using their coordinates metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        coordinates_distance : int</span>
<span class="sd">            distance in unit specified by user; defaults to &#39;kilometers&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">coordinates_distance</span><span class="p">(</span><span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.locations_metadata_distance"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.locations_metadata_distance">[docs]</a>    <span class="k">def</span> <span class="nf">locations_metadata_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the geographic distance between two items using their locations metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        locations_distance : int</span>
<span class="sd">            distance in unit specified by user; defaults to &#39;kilometers&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">locations_distance</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_time_metadata_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_time_metadata_difference">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_time_metadata_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">time_metadata</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;years&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the normalised time difference for two items&#39; time metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        time_metadata : str</span>
<span class="sd">            name of time metadata category to use. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit of time for results. Defaults to &#39;years&#39;.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is 0 distance and 1 is infinity.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_1()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_time_metadata_difference</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">time_metadata</span> <span class="o">=</span> <span class="n">time_metadata</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_time_metadata_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_time_metadata_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_time_metadata_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">time_metadata</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;years&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the normalised time similarity for two items&#39; time metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        time_metadata : str</span>
<span class="sd">            name of time metadata category to use. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit of time for results. Defaults to &#39;years&#39;.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is 0 distance and 1 is infinity.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_0()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_time_metadata_similarity</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">time_metadata</span> <span class="o">=</span> <span class="n">time_metadata</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_coordinates_metadata_diffference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_coordinates_metadata_diffference">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_coordinates_metadata_diffference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the normalised distance between two items&#39; coordinates, using units provided by user.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is 0 distance and 1 is infinite distance.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_1()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_coordinates_metadata_diffference</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_coordinates_metadata_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_coordinates_metadata_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_coordinates_metadata_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the inverse of the normalised distance between two items&#39; coordinates, using units provided by user.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is infinite distance and 0 is infinite distance.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_0()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_coordinates_metadata_similarity</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_location_metadata_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_location_metadata_difference">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_location_metadata_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the normalised distance between two items&#39; location metadata entries, using units provided by user.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is 0 distance and 1 is infinite distance.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_1()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_location_metadata_difference</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.normalised_location_metadata_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.normalised_location_metadata_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">normalised_location_metadata_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the inverse of the normalised distance between two items&#39; location metadata entries, using units provided by user.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        first_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        second_item : str</span>
<span class="sd">            item ID of first item for comparison. Defaults to requesting user input.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit for measurement.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : float</span>
<span class="sd">            a value between 0 and 1, where 0 is infinite distance and 0 is infinite distance.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Normalisation function: map_inf_to_1()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">normalised_location_metadata_similarity</span><span class="p">(</span><span class="n">first_item</span> <span class="o">=</span> <span class="n">first_item</span><span class="p">,</span> <span class="n">second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">)</span></div>
    

    <span class="c1"># Methods for comparing case items to other items and/or the entire case</span>
    
<div class="viewcode-block" id="Case.item_vs_other_metadata_comparison"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_vs_other_metadata_comparison">[docs]</a>    <span class="k">def</span> <span class="nf">item_vs_other_metadata_comparison</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares an item&#39;s metadata against all other combinations of items. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_metadata_comparisons</span><span class="p">()</span>
        <span class="n">df_a</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="n">df_b</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_a</span><span class="p">,</span> <span class="n">df_b</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">df</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_metadata_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_metadata_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_metadata_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect between an item&#39;s metadata and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">comparison_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">!=</span> <span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

        <span class="n">other_items_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">comparison_list</span><span class="p">:</span>
            <span class="n">item_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">()</span>
            <span class="n">other_items_set</span> <span class="o">=</span> <span class="n">other_items_set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">item_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">()</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">other_items_set</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_metadata_intersect_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_metadata_intersect_size">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_metadata_intersect_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the size of the intersect between an item&#39;s metadata set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_intersect</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">))</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_metadata_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_metadata_difference">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_metadata_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the difference between an item&#39;s metadata set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">comparison_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">!=</span> <span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

        <span class="n">other_items_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">comparison_list</span><span class="p">:</span>
            <span class="n">item_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">()</span>
            <span class="n">other_items_set</span> <span class="o">=</span> <span class="n">other_items_set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">item_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">()</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">other_items_set</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_metadata_difference_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_metadata_difference_size">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_metadata_difference_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the size of the difference between an item&#39;s metadata set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_difference</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">))</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_metadata_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_metadata_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_metadata_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between an item&#39;s metadata set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>
    
        <span class="n">intersect_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_intersect_size</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="n">union_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">())</span>
        <span class="n">metadata_similarity</span> <span class="o">=</span> <span class="n">intersect_size</span> <span class="o">/</span> <span class="n">union_size</span>

        <span class="k">return</span> <span class="n">metadata_similarity</span></div>
    
    
<div class="viewcode-block" id="Case.items_vs_case_metadata_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_vs_case_metadata_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">items_vs_case_metadata_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dataframe of statistics comparing an item&#39;s metadata and the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Shared&#39;</span><span class="p">,</span> <span class="s1">&#39;Shared size&#39;</span><span class="p">,</span> <span class="s1">&#39;Not shared&#39;</span><span class="p">,</span> <span class="s1">&#39;Not shared size&#39;</span><span class="p">,</span> <span class="s1">&#39;Similarity&#39;</span><span class="p">])</span>
        
        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="n">shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_intersect</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">shared_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">shared</span><span class="p">)</span>
            <span class="n">not_shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_difference</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">not_shared_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">not_shared</span><span class="p">)</span>
            <span class="n">similarity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_metadata_similarity</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">shared</span><span class="p">,</span> <span class="n">shared_size</span><span class="p">,</span> <span class="n">not_shared</span><span class="p">,</span> <span class="n">not_shared_size</span><span class="p">,</span> <span class="n">similarity</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Similarity&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>
    
        
<div class="viewcode-block" id="Case.item_vs_other_info_comparison"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_vs_other_info_comparison">[docs]</a>    <span class="k">def</span> <span class="nf">item_vs_other_info_comparison</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">            </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares an item&#39;s information against all other combinations of items. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_info_comparisons</span><span class="p">()</span>
        <span class="n">df_a</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="n">df_b</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_a</span><span class="p">,</span> <span class="n">df_b</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">df</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_info_intersect"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_info_intersect">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_info_intersect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the intersect between an item&#39;s information and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span>
        <span class="n">comparison_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">!=</span> <span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

        <span class="n">other_items_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">comparison_list</span><span class="p">:</span>
            <span class="n">item_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">()</span>
            <span class="n">other_items_set</span> <span class="o">=</span> <span class="n">other_items_set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">item_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">()</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">other_items_set</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_info_intersect_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_info_intersect_size">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_info_intersect_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the size of the intersect between an item&#39;s information set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_intersect</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">))</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_info_difference"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_info_difference">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_info_difference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the difference between an item&#39;s information set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span>
        <span class="n">comparison_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">!=</span> <span class="n">item_id</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

        <span class="n">other_items_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">comparison_list</span><span class="p">:</span>
            <span class="n">item_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">()</span>
            <span class="n">other_items_set</span> <span class="o">=</span> <span class="n">other_items_set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">item_set</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">()</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">other_items_set</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_info_difference_size"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_info_difference_size">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_info_difference_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the size of the difference between an item&#39;s information set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_difference</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">))</span></div>
    
    
<div class="viewcode-block" id="Case.item_case_info_similarity"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_case_info_similarity">[docs]</a>    <span class="k">def</span> <span class="nf">item_case_info_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Jaccard similarity between an item&#39;s information set and the set derived from the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>
    
        <span class="n">intersect_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_intersect_size</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="n">union_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_info_set</span><span class="p">())</span>
        <span class="n">info_similarity</span> <span class="o">=</span> <span class="n">intersect_size</span> <span class="o">/</span> <span class="n">union_size</span>

        <span class="k">return</span> <span class="n">info_similarity</span></div>
    
    
<div class="viewcode-block" id="Case.items_vs_case_info_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_vs_case_info_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">items_vs_case_info_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dataframe of statistics comparing an item&#39;s information and the rest of the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Shared&#39;</span><span class="p">,</span> <span class="s1">&#39;Shared size&#39;</span><span class="p">,</span> <span class="s1">&#39;Not shared&#39;</span><span class="p">,</span> <span class="s1">&#39;Not shared size&#39;</span><span class="p">,</span> <span class="s1">&#39;Similarity&#39;</span><span class="p">])</span>
        
        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="n">shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_intersect</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">shared_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">shared</span><span class="p">)</span>
            <span class="n">not_shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_difference</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">not_shared_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">not_shared</span><span class="p">)</span>
            <span class="n">similarity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_case_info_similarity</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">shared</span><span class="p">,</span> <span class="n">shared_size</span><span class="p">,</span> <span class="n">not_shared</span><span class="p">,</span> <span class="n">not_shared_size</span><span class="p">,</span> <span class="n">similarity</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Similarity&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

    

    <span class="c1"># Methods for filtering and triangulating items based on their data</span>
    
<div class="viewcode-block" id="Case.items_time_diff_from_date"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_time_diff_from_date">[docs]</a>    <span class="k">def</span> <span class="nf">items_time_diff_from_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all items which have time metadata within a specified range from a given date. </span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            name of time metadata category to use. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        date : str</span>
<span class="sd">            date or datetime to compare items with. Defaults to requesting user input.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum time range.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit of time for results. Defaults to &#39;years&#39;.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to ignore time metadata values which equal None or &#39;&#39;. Defaults to True.</span>
<span class="sd">        </span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : pandas.DataFrame</span>
<span class="sd">            a pandas.DataFrame containing details for items which lie in the time range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">time_diff_from_date</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="n">date</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_items_by_distance"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_items_by_distance">[docs]</a>    <span class="k">def</span> <span class="nf">filter_items_by_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects items whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">filter_by_distance</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.triangulate_items_by_distance"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_items_by_distance">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_items_by_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects items whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">triangulate_by_distance</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_items_by_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_items_by_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_items_by_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;Created at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects items whose time metadata falls within two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">filter_by_dates</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.metadata_time_diffs_from_date"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_time_diffs_from_date">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_time_diffs_from_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the time differences between items&#39; time metadata from a given date or time.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            name of time metadata category to use. Defaults to &#39;created_at&#39;.</span>
<span class="sd">        date : str</span>
<span class="sd">            date or datetime to compare items with. Defaults to requesting user input.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum time range.</span>
<span class="sd">        units : str</span>
<span class="sd">            unit of time for results. Defaults to &#39;years&#39;.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether or not to ignore time metadata values which equal None or &#39;&#39;. Defaults to True.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        time_difference : datetime.timedelta</span>
<span class="sd">            the time difference between items&#39; time metadata entries and datetime.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata_time_diffs_from_date</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="n">date</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.filter_metadata_by_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_metadata_by_distances">[docs]</a>    <span class="k">def</span> <span class="nf">filter_metadata_by_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters metadata dataframe by entries whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_metadata_by_distances</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.filter_info_by_distance_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_info_by_distance_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">filter_info_by_distance_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters information dataframe by entries whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_info_by_distance_metadata</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.filter_data_by_distance_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_data_by_distance_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">filter_data_by_distance_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters data dataframe by entries whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_data_by_distance_metadata</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.filter_other_by_distance_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_other_by_distance_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">filter_other_by_distance_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters &#39;other&#39; (links, references, and contents) dataframe by entries whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_other_by_distance_metadata</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.filter_metadata_by_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_metadata_by_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_metadata_by_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters metadata dataframe for entries whose time metadata falls between two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_metadata_by_dates</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_data_by_metadata_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_data_by_metadata_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_data_by_metadata_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters data dataframe for entries whose time metadata falls between two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_data_by_metadata_dates</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_info_by_metadata_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_info_by_metadata_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_info_by_metadata_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters information dataframe for entries whose time metadata falls between two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_info_by_metadata_dates</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_other_by_metadata_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_other_by_metadata_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_other_by_metadata_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters &#39;other&#39; (links, references, and contents) dataframe for entries whose time metadata falls between two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_other_by_metadata_dates</span><span class="p">(</span><span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.triangulate_metadata_by_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_metadata_by_distances">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_metadata_by_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters metadata dataframe by entries whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">triangulate_metadata_by_distances</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.triangulate_data_by_metadata_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_data_by_metadata_distances">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_data_by_metadata_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters data dataframe by entries whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">triangulate_data_by_metadata_distances</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.triangulate_info_by_metadata_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_info_by_metadata_distances">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_info_by_metadata_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters information dataframe by entries whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">triangulate_info_by_metadata_distances</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.triangulate_other_by_metadata_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_other_by_metadata_distances">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_other_by_metadata_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters &#39;other&#39; (links, references, and contents) dataframe by entries whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">triangulate_other_by_metadata_distances</span><span class="p">(</span><span class="n">locations</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.filter_keywords_by_distance_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_keywords_by_distance_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">filter_keywords_by_distance_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">measure</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters keywords dataframes by entries whose geolocation metadata falls within a distance of a given location. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        measure : str</span>
<span class="sd">            which keywords dataframe to use.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        close_to : str</span>
<span class="sd">            location or coordinates to measure from.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_keywords_by_distance_metadata</span><span class="p">(</span><span class="n">measure</span> <span class="o">=</span> <span class="n">measure</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.filter_keywords_by_metadata_dates"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_keywords_by_metadata_dates">[docs]</a>    <span class="k">def</span> <span class="nf">filter_keywords_by_metadata_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">measure</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters keywords dataframes for entries whose time metadata falls between two datetimes. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        measure : str</span>
<span class="sd">            which keywords dataframe to use.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of time metadata to use. Defaults to &#39;Created at&#39;</span>
<span class="sd">        from_date : str</span>
<span class="sd">            date or time to measure from. Defaults to requesting from user input.</span>
<span class="sd">        to_date : str</span>
<span class="sd">            date or time to measure to. Defaults to requesting from user input.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">filter_keywords_by_metadata_dates</span><span class="p">(</span><span class="n">measure</span> <span class="o">=</span> <span class="n">measure</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">from_date</span> <span class="o">=</span> <span class="n">from_date</span><span class="p">,</span> <span class="n">to_date</span> <span class="o">=</span> <span class="n">to_date</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.triangulate_keywords_by_metadata_distances"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.triangulate_keywords_by_metadata_distances">[docs]</a>    <span class="k">def</span> <span class="nf">triangulate_keywords_by_metadata_distances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">measure</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometers&#39;</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters keywords dataframes by entries whose geolocation metadata falls within a distance of multiple given locations. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        measure : str</span>
<span class="sd">            which keywords dataframe to use.</span>
<span class="sd">        locations : list</span>
<span class="sd">            a list of locations or coordinates to triangulate from.</span>
<span class="sd">        select_by : str</span>
<span class="sd">            category of geolocation metadata to use.</span>
<span class="sd">        within : int</span>
<span class="sd">            maximum distance from given location. </span>
<span class="sd">        units : str</span>
<span class="sd">            units for distance.</span>
<span class="sd">        ignore_nones : bool</span>
<span class="sd">            whether to ignore items without geolocation metadata entries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">triangulate_keywords_by_metadata_distances</span><span class="p">(</span><span class="n">locations</span> <span class="o">=</span> <span class="n">locations</span><span class="p">,</span> <span class="n">measure</span> <span class="o">=</span> <span class="n">measure</span><span class="p">,</span> <span class="n">select_by</span> <span class="o">=</span> <span class="n">select_by</span><span class="p">,</span> <span class="n">close_to</span> <span class="o">=</span> <span class="n">close_to</span><span class="p">,</span> <span class="n">within</span> <span class="o">=</span> <span class="n">within</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span></div>
        

    <span class="c1"># Methods for looking up item internet metadata</span>
    
<div class="viewcode-block" id="Case.lookup_item_domain"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_item_domain">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_item_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs a WhoIs lookup on an item&#39;s domain metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">lookup_item_domain</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_item_domains"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_item_domains">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_item_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all items&#39; domain metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">lookup_all_item_domains</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_domain_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_domain_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_domain_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all domain metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">lookup_all_domain_metadata</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_item_ip_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_item_ip_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_item_ip_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all items&#39; IP address metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">lookup_all_item_ip_metadata</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_ip_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_ip_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_ip_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all IP address metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">lookup_all_ip_metadata</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_items_whois"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_items_whois">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_items_whois</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_items</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all items&#39; internet metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">lookup_all_items_whois</span><span class="p">(</span><span class="n">append_to_items</span> <span class="o">=</span> <span class="n">append_to_items</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.lookup_all_whois_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_whois_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_whois_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_dataset</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs WhoIs lookups on all internet metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_dataset : bool</span>
<span class="sd">            whether to add WhoIs results to the metadata dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">lookup_all_whois_metadata</span><span class="p">(</span><span class="n">append_to_dataset</span> <span class="o">=</span> <span class="n">append_to_dataset</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="Case.scrape_item_urls"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.scrape_item_urls">[docs]</a>    <span class="k">def</span> <span class="nf">scrape_item_urls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scrapes data from all items&#39; URLs if available. Appends to items if selected.</span>
<span class="sd">        </span>
<span class="sd">        WARNING: this function is very slow due to the speed of the packages it relies on.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_items : bool</span>
<span class="sd">            whether to append scraper results to items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">scrape_item_urls</span><span class="p">(</span><span class="n">append_to_items</span> <span class="o">=</span> <span class="n">append_to_items</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.lookup_url"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_url">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens an item&#39;s URL in the default web browser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">lookup_url</span><span class="p">()</span>
        
        <span class="k">elif</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">lookup_url</span><span class="p">()</span></div>
        

    <span class="c1"># Methods for looking up and filtering items&#39; links</span>
    
<div class="viewcode-block" id="Case.lookup_item_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_item_links">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_item_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">link_index</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens an item&#39;s links in the default web browser. Can specify a link index; defaults to opening all</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">item_id</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Item ID: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">link_index</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">open_all_links</span><span class="p">()</span>
        
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">lookup_link</span><span class="p">(</span><span class="n">link_index</span> <span class="o">=</span> <span class="n">link_index</span><span class="p">)</span></div>
        

<div class="viewcode-block" id="Case.open_all_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.open_all_links">[docs]</a>    <span class="k">def</span> <span class="nf">open_all_links</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens all items&#39; links in the default web browser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">open_all_links</span><span class="p">()</span></div>
            
    
<div class="viewcode-block" id="Case.filter_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.filter_links">[docs]</a>    <span class="k">def</span> <span class="nf">filter_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contains_any_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">contains_all_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">not_containing_any_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">not_containing_all_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters items&#39; links based on given criteria. Returns a list.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        contains_any_kwds : list</span>
<span class="sd">            results must contain any of these strings. Defaults to None.</span>
<span class="sd">        contains_all_kwds : list results</span>
<span class="sd">            must contain all of these strings. Defaults to None.</span>
<span class="sd">        not_containing_any_kwds : list</span>
<span class="sd">            results not must contain any of these strings. Defaults to None.</span>
<span class="sd">        not_containing_all_kwds : list</span>
<span class="sd">            results not must contain all of these strings. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">filter_all_links</span><span class="p">(</span><span class="n">contains_any_kwds</span> <span class="o">=</span> <span class="n">contains_any_kwds</span><span class="p">,</span> <span class="n">contains_all_kwds</span> <span class="o">=</span> <span class="n">contains_all_kwds</span><span class="p">,</span> <span class="n">not_containing_any_kwds</span> <span class="o">=</span> <span class="n">not_containing_any_kwds</span><span class="p">,</span> <span class="n">not_containing_all_kwds</span> <span class="o">=</span> <span class="n">not_containing_all_kwds</span><span class="p">)</span></div>
      
        
<div class="viewcode-block" id="Case.lookup_all_filtered_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.lookup_all_filtered_links">[docs]</a>    <span class="k">def</span> <span class="nf">lookup_all_filtered_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contains_any_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">contains_all_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">not_containing_any_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">not_containing_all_kwds</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects and opens items&#39; links in the default web browser based on given criteria.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        contains_any_kwds : list</span>
<span class="sd">            results must contain any of these strings. Defaults to None.</span>
<span class="sd">        contains_all_kwds : list</span>
<span class="sd">            results must contain all of these strings. Defaults to None.</span>
<span class="sd">        not_containing_any_kwds : list</span>
<span class="sd">            results not must contain any of these strings. Defaults to None.</span>
<span class="sd">        not_containing_all_kwds : list</span>
<span class="sd">            results not must contain all of these strings. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">lookup_filtered_links</span><span class="p">(</span><span class="n">contains_any_kwds</span> <span class="o">=</span> <span class="n">contains_any_kwds</span><span class="p">,</span> <span class="n">contains_all_kwds</span> <span class="o">=</span> <span class="n">contains_all_kwds</span><span class="p">,</span> <span class="n">not_containing_any_kwds</span> <span class="o">=</span> <span class="n">not_containing_any_kwds</span><span class="p">,</span> <span class="n">not_containing_all_kwds</span> <span class="o">=</span> <span class="n">not_containing_all_kwds</span><span class="p">)</span></div>
        

    <span class="c1"># Methods for running web crawls from case and items</span>
    
    
<div class="viewcode-block" id="Case.crawl_web"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.crawl_web">[docs]</a>    <span class="k">def</span> <span class="nf">crawl_web</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="n">seed_urls</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span>
                    <span class="n">visit_limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> 
                    <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                    <span class="n">required_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">case_sensitive</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="n">ignore_urls</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                    <span class="n">ignore_domains</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                    <span class="n">be_polite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="n">full</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="n">output_as</span> <span class="o">=</span> <span class="s1">&#39;dataframe&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Crawls internet from a single URL or list of URLs. Returns details like links found,  HTML scraped, and site metadata.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ---------- </span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether or not to append crawl results to the Case.</span>
<span class="sd">        seed_urls : str or list</span>
<span class="sd">            one or more URLs from which to crawl.</span>
<span class="sd">        visit_limit : int</span>
<span class="sd">            how many URLs the crawler should visit before it stops.</span>
<span class="sd">        excluded_url_terms : list</span>
<span class="sd">            list of strings; link will be ignored if it contains any string in list.</span>
<span class="sd">        required_keywords : list</span>
<span class="sd">            list of keywords which sites must contain to be crawled.</span>
<span class="sd">        excluded_keywords : list</span>
<span class="sd">            list of keywords which sites must *not* contain to be crawled.</span>
<span class="sd">        case_sensitive : bool</span>
<span class="sd">            whether or not to ignore string characters&#39; case.</span>
<span class="sd">        ignore_urls : list</span>
<span class="sd">            list of URLs to ignore.</span>
<span class="sd">        ignore_domains : list</span>
<span class="sd">            list of domains to ignore.</span>
<span class="sd">        be_polite : bool</span>
<span class="sd">            whether respect websites&#39; permissions for crawlers.</span>
<span class="sd">        full : bool</span>
<span class="sd">            whether to run a full scrape on each site. This takes longer.</span>
<span class="sd">        output_as : str</span>
<span class="sd">            the format to output results in. Defaults to a pandas.DataFrame.</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : object</span>
<span class="sd">            an object containing the results of a crawl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Append_to_case not currently working.</span>
        
        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            
            <span class="n">items_from_web_crawl</span><span class="p">(</span><span class="n">case</span> <span class="o">=</span> <span class="bp">self</span><span class="p">,</span>
                        <span class="n">update_global_var</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                        <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span><span class="p">,</span>
                        <span class="n">visit_limit</span> <span class="o">=</span> <span class="n">visit_limit</span><span class="p">,</span> 
                        <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="n">excluded_url_terms</span><span class="p">,</span>
                        <span class="n">required_keywords</span> <span class="o">=</span> <span class="n">required_keywords</span><span class="p">,</span> 
                        <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="n">excluded_keywords</span><span class="p">,</span> 
                        <span class="n">case_sensitive</span> <span class="o">=</span> <span class="n">case_sensitive</span><span class="p">,</span>
                        <span class="n">ignore_urls</span> <span class="o">=</span> <span class="n">ignore_urls</span><span class="p">,</span> 
                        <span class="n">ignore_domains</span> <span class="o">=</span> <span class="n">ignore_domains</span><span class="p">,</span>
                        <span class="n">be_polite</span> <span class="o">=</span> <span class="n">be_polite</span><span class="p">,</span>
                        <span class="n">full</span> <span class="o">=</span> <span class="n">full</span><span class="p">)</span>
            
            <span class="k">return</span>
            
            
        
        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            
            <span class="n">output</span> <span class="o">=</span> <span class="n">crawl_web</span><span class="p">(</span><span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span><span class="p">,</span>
                                <span class="n">visit_limit</span> <span class="o">=</span> <span class="n">visit_limit</span><span class="p">,</span> 
                                <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="n">excluded_url_terms</span><span class="p">,</span>
                                <span class="n">required_keywords</span> <span class="o">=</span> <span class="n">required_keywords</span><span class="p">,</span> 
                                <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="n">excluded_keywords</span><span class="p">,</span> 
                                <span class="n">case_sensitive</span> <span class="o">=</span> <span class="n">case_sensitive</span><span class="p">,</span>
                                <span class="n">ignore_urls</span> <span class="o">=</span> <span class="n">ignore_urls</span><span class="p">,</span> 
                                <span class="n">ignore_domains</span> <span class="o">=</span> <span class="n">ignore_domains</span><span class="p">,</span>
                                <span class="n">be_polite</span> <span class="o">=</span> <span class="n">be_polite</span><span class="p">,</span>
                                <span class="n">full</span> <span class="o">=</span> <span class="n">full</span><span class="p">,</span>
                                <span class="n">output_as</span> <span class="o">=</span> <span class="n">output_as</span><span class="p">)</span>
            
            <span class="k">return</span> <span class="n">output</span></div>
        
    

<div class="viewcode-block" id="Case.crawl_web_from_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.crawl_web_from_items">[docs]</a>    <span class="k">def</span> <span class="nf">crawl_web_from_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="n">crawl_from</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span>
                            <span class="n">visit_limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> 
                            <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                            <span class="n">required_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">case_sensitive</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="n">ignore_urls</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">ignore_domains</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                            <span class="n">be_polite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">full</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">output_as</span> <span class="o">=</span> <span class="s1">&#39;dataframe&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs web crawl from items&#39; URL metadata.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ---------- </span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether or not to append crawl results to the Case.</span>
<span class="sd">        crawl_from : str</span>
<span class="sd">            metadata category to retrieve URL data from. Defaults to &#39;URL&#39;.</span>
<span class="sd">        visit_limit : int</span>
<span class="sd">            how many URLs the crawler should visit before it stops.</span>
<span class="sd">        excluded_url_terms : list</span>
<span class="sd">            list of strings; link will be ignored if it contains any string in list.</span>
<span class="sd">        required_keywords : list</span>
<span class="sd">            list of keywords which sites must contain to be crawled.</span>
<span class="sd">        excluded_keywords : list</span>
<span class="sd">            list of keywords which sites must *not* contain to be crawled.</span>
<span class="sd">        case_sensitive : bool</span>
<span class="sd">            whether or not to ignore string characters&#39; case.</span>
<span class="sd">        ignore_urls : list</span>
<span class="sd">            list of URLs to ignore.</span>
<span class="sd">        ignore_domains : list</span>
<span class="sd">            list of domains to ignore.</span>
<span class="sd">        be_polite : bool</span>
<span class="sd">            whether respect websites&#39; permissions for crawlers.</span>
<span class="sd">        full : bool</span>
<span class="sd">            whether to run a full scrape on each site. This takes longer.</span>
<span class="sd">        output_as : str</span>
<span class="sd">            the format to output results in. Defaults to a pandas.DataFrame.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : object</span>
<span class="sd">            an object containing the results of a crawl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">crawl_from</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">crawl_from</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Metadata entry to crawl from: &#39;</span><span class="p">)</span>
        
        <span class="n">seed_urls</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">urls</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">crawl_from</span><span class="p">)[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
            <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span> <span class="o">+</span> <span class="n">urls</span>
        <span class="n">seed_urls</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">seed_urls</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">crawl_web</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="n">append_to_case</span><span class="p">,</span>
                    <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span><span class="p">,</span>
                    <span class="n">visit_limit</span> <span class="o">=</span> <span class="n">visit_limit</span><span class="p">,</span> 
                    <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="n">excluded_url_terms</span><span class="p">,</span>
                    <span class="n">required_keywords</span> <span class="o">=</span> <span class="n">required_keywords</span><span class="p">,</span> 
                    <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="n">excluded_keywords</span><span class="p">,</span> 
                    <span class="n">case_sensitive</span> <span class="o">=</span> <span class="n">case_sensitive</span><span class="p">,</span>
                    <span class="n">ignore_urls</span> <span class="o">=</span> <span class="n">ignore_urls</span><span class="p">,</span> 
                    <span class="n">ignore_domains</span> <span class="o">=</span> <span class="n">ignore_domains</span><span class="p">,</span>
                    <span class="n">be_polite</span> <span class="o">=</span> <span class="n">be_polite</span><span class="p">,</span>
                    <span class="n">full</span> <span class="o">=</span> <span class="n">full</span><span class="p">,</span>
                    <span class="n">output_as</span> <span class="o">=</span> <span class="n">output_as</span><span class="p">)</span></div>
            
        
<div class="viewcode-block" id="Case.crawl_all_web_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.crawl_all_web_links">[docs]</a>    <span class="k">def</span> <span class="nf">crawl_all_web_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="n">visit_limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> 
                            <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                            <span class="n">required_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">case_sensitive</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                            <span class="n">ignore_urls</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
                            <span class="n">ignore_domains</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                            <span class="n">be_polite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">full</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">output_as</span> <span class="o">=</span> <span class="s1">&#39;dataframe&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs web crawl from items&#39; links.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ---------- </span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether or not to append crawl results to the Case.</span>
<span class="sd">        visit_limit : int</span>
<span class="sd">            how many URLs the crawler should visit before it stops.</span>
<span class="sd">        excluded_url_terms : list</span>
<span class="sd">            list of strings; link will be ignored if it contains any string in list.</span>
<span class="sd">        required_keywords : list</span>
<span class="sd">            list of keywords which sites must contain to be crawled.</span>
<span class="sd">        excluded_keywords : list</span>
<span class="sd">            list of keywords which sites must *not* contain to be crawled.</span>
<span class="sd">        case_sensitive : bool</span>
<span class="sd">            whether or not to ignore string characters&#39; case.</span>
<span class="sd">        ignore_urls : list</span>
<span class="sd">            list of URLs to ignore.</span>
<span class="sd">        ignore_domains : list</span>
<span class="sd">            list of domains to ignore.</span>
<span class="sd">        be_polite : bool</span>
<span class="sd">            whether respect websites&#39; permissions for crawlers.</span>
<span class="sd">        full : bool</span>
<span class="sd">            whether to run a full scrape on each site. This takes longer.</span>
<span class="sd">        output_as : str</span>
<span class="sd">            the format to output results in. Defaults to a pandas.DataFrame.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        result : object</span>
<span class="sd">            an object containing the results of a crawl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">seed_urls</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">urls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span>
            
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">urls</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
                <span class="n">urls</span> <span class="o">=</span> <span class="n">urls</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">urls</span> <span class="o">=</span> <span class="n">urls</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            
            <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span> <span class="o">+</span> <span class="n">urls</span>
            
        <span class="n">seed_urls</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">seed_urls</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">crawl_web</span><span class="p">(</span>
                    <span class="n">append_to_case</span> <span class="o">=</span> <span class="n">append_to_case</span><span class="p">,</span>
                    <span class="n">seed_urls</span> <span class="o">=</span> <span class="n">seed_urls</span><span class="p">,</span>
                    <span class="n">visit_limit</span> <span class="o">=</span> <span class="n">visit_limit</span><span class="p">,</span> 
                    <span class="n">excluded_url_terms</span> <span class="o">=</span> <span class="n">excluded_url_terms</span><span class="p">,</span>
                    <span class="n">required_keywords</span> <span class="o">=</span> <span class="n">required_keywords</span><span class="p">,</span> 
                    <span class="n">excluded_keywords</span> <span class="o">=</span> <span class="n">excluded_keywords</span><span class="p">,</span> 
                    <span class="n">case_sensitive</span> <span class="o">=</span> <span class="n">case_sensitive</span><span class="p">,</span>
                    <span class="n">ignore_urls</span> <span class="o">=</span> <span class="n">ignore_urls</span><span class="p">,</span> 
                    <span class="n">ignore_domains</span> <span class="o">=</span> <span class="n">ignore_domains</span><span class="p">,</span>
                    <span class="n">be_polite</span> <span class="o">=</span> <span class="n">be_polite</span><span class="p">,</span>
                    <span class="n">full</span> <span class="o">=</span> <span class="n">full</span><span class="p">,</span>
                    <span class="n">output_as</span> <span class="o">=</span> <span class="n">output_as</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.add_instagram_user_posts"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.add_instagram_user_posts">[docs]</a>    <span class="k">def</span> <span class="nf">add_instagram_user_posts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves an Instagram user&#39;s posts from a username and adds to the Case.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        username : str</span>
<span class="sd">            username to retrieve from.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">add_instagram_user_posts</span><span class="p">(</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sync_items</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.items_from_username_search"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_from_username_search">[docs]</a>    <span class="k">def</span> <span class="nf">items_from_username_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs an Sherlock search on username and adds the results as CaseItems to the Case.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        username : str</span>
<span class="sd">            username to retrieve from.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">items_from_username_search</span><span class="p">(</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sync_items</span><span class="p">()</span></div>
    
    <span class="c1"># Methods for indexing case objects by the data they contain</span>

<div class="viewcode-block" id="Case.index_by_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_info">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_labels</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">by_categories</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes case dataset by information each piece of item contains. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_info</span><span class="p">(</span><span class="n">by_labels</span> <span class="o">=</span> <span class="n">by_labels</span><span class="p">,</span> <span class="n">by_categories</span> <span class="o">=</span> <span class="n">by_categories</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.index_by_info_label"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_info_label">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_info_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by information labels they contain. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_info_label</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_by_info_category"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_info_category">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_info_category</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by information categories they contain. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_info_category</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_by_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_entries</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">by_categories</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by each item&#39;s metadata. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_metadata</span><span class="p">(</span><span class="n">by_entries</span> <span class="o">=</span> <span class="n">by_entries</span><span class="p">,</span> <span class="n">by_categories</span> <span class="o">=</span> <span class="n">by_categories</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="Case.index_by_metadata_entry"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_metadata_entry">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_metadata_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by each item&#39;s metadata entries. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_metadata_entry</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_by_metadata_category"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_metadata_category">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_metadata_category</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by each item&#39;s categories. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_metadata_category</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.index_by_words"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_words">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_words</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word_limit</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes case items by the words they contain. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_words</span><span class="p">(</span><span class="n">word_limit</span> <span class="o">=</span> <span class="n">word_limit</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.index_by_links"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_links">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_links</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by their links. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_links</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_by_refs"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_refs">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by their references. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_refs</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_by_contents"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_by_contents">[docs]</a>    <span class="k">def</span> <span class="nf">index_by_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes items by their contents. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">index_by_contents</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Case.index_metadata_by_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_metadata_by_info">[docs]</a>    <span class="k">def</span> <span class="nf">index_metadata_by_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes metadata entries by the information entries they co-occur with. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;information and metadata&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">coincidence_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information and metadata&#39;</span><span class="p">]</span>

            <span class="n">info_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">coincidence_df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">])</span>

            <span class="n">index_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata count&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">info_set</span><span class="p">:</span>
                <span class="n">metadata_assoc</span> <span class="o">=</span> <span class="n">coincidence_df</span><span class="p">[</span><span class="n">coincidence_df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">info</span><span class="p">][</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
                <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_assoc</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Metadata count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata_assoc</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">index_df</span></div>
    
    
<div class="viewcode-block" id="Case.index_info_by_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.index_info_by_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">index_info_by_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indexes information entries by the metadata entries they co-occur with. Returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;information and metadata&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">coincidence_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information and metadata&#39;</span><span class="p">]</span>

            <span class="n">metadata_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">coincidence_df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">])</span>

            <span class="n">index_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Information count&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="n">metadata_set</span><span class="p">:</span>
                <span class="n">info_assoc</span> <span class="o">=</span> <span class="n">coincidence_df</span><span class="p">[</span><span class="n">coincidence_df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">metadata</span><span class="p">][</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
                <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_assoc</span>
                <span class="n">index_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Information count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">info_assoc</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">index_df</span></div>
    
    
<div class="viewcode-block" id="Case.generate_indexes"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_indexes">[docs]</a>    <span class="k">def</span> <span class="nf">generate_indexes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all indexes and assigns them to the Case&#39;s CaseIndexes attribute. Returns the updated CaseIndexes.</span>
<span class="sd">        </span>
<span class="sd">        Indexes generated:</span>
<span class="sd">            * items indexed by information entries</span>
<span class="sd">            * items indexed by metadata entries</span>
<span class="sd">            * items indexed by link entries</span>
<span class="sd">            * items indexed by references entries</span>
<span class="sd">            * items indexed by contents</span>
<span class="sd">            * items indexed by words</span>
<span class="sd">            * metadata indexed by co-occuring information entries</span>
<span class="sd">            * information indexed by co-occuring metadata entries</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_info</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_metadata</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_links</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_references</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_refs</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_contents</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_words</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="s1">&#39;information and metadata&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">metadata_by_information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_metadata_by_info</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">information_by_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_info_by_metadata</span><span class="p">()</span>

        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">indexed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span></div>
    
    

    <span class="c1"># Methods for searching case objects and data</span>
    
<div class="viewcode-block" id="Case.search_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.search_items">[docs]</a>    <span class="k">def</span> <span class="nf">search_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for an item ID. If found, returns that item&#39;s contents.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">search_items</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.search_keywords"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.search_keywords">[docs]</a>    <span class="k">def</span> <span class="nf">search_keywords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">keyword_type</span> <span class="o">=</span> <span class="s1">&#39;most_frequent&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches keywords for a string. If found, returns all matches.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">search_keywords</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="p">,</span> <span class="n">keyword_type</span> <span class="o">=</span> <span class="n">keyword_type</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.search"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.search">[docs]</a>    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_query</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches items for a query string. If found, returns a dataframe of all items containing the string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">search_query</span> <span class="o">=</span> <span class="n">search_query</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Case.advanced_search"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.advanced_search">[docs]</a>    <span class="k">def</span> <span class="nf">advanced_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">any_kwds</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">all_kwds</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">no_kwds</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">search_in</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An advanced search function. Searches items using a series of keyword commands. If found, returns a dataframe of all items containing the string.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        any_kwds : list</span>
<span class="sd">            results must contain any of these strings. Defaults to requesting user input.</span>
<span class="sd">        all_kwds : list</span>
<span class="sd">            results must contain all of these strings. Defaults to requesting user input.</span>
<span class="sd">        no_kwds : list</span>
<span class="sd">            results not must contain any of these strings. Defaults to requesting user input.</span>
<span class="sd">        search_in : list</span>
<span class="sd">            list of item attributes to search. </span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">advanced_search</span><span class="p">(</span><span class="n">any_kwds</span> <span class="o">=</span> <span class="n">any_kwds</span><span class="p">,</span> <span class="n">all_kwds</span> <span class="o">=</span> <span class="n">all_kwds</span><span class="p">,</span> <span class="n">no_kwds</span> <span class="o">=</span> <span class="n">no_kwds</span><span class="p">,</span> <span class="n">search_in</span> <span class="o">=</span> <span class="n">search_in</span><span class="p">)</span></div>
        
    

    <span class="c1"># Methods for generating networks from case data </span>
    
<div class="viewcode-block" id="Case.items_to_vertices"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_to_vertices">[docs]</a>    <span class="k">def</span> <span class="nf">items_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a disconnected network where each vertex represents an item with attributes containing the item&#39;s data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">())</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">item_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">item_count</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span> <span class="n">vertex_attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="n">items</span><span class="p">})</span>
        <span class="n">network</span><span class="p">[</span><span class="s1">&#39;item_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;item&#39;</span>

        <span class="c1"># Retrieving vertex attributes</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            
            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="n">whois</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">whois</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">whois</span><span class="p">)</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
                <span class="n">whois</span> <span class="o">=</span> <span class="n">whois</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">whois</span> <span class="o">=</span> <span class="n">whois</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                
            <span class="n">user_assessments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">user_assessments</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">user_assessments</span><span class="p">)</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
                <span class="n">user_assessments</span> <span class="o">=</span> <span class="n">user_assessments</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">user_assessments</span> <span class="o">=</span> <span class="n">user_assessments</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;whois&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">whois</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">references</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;contains&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">contains</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;user_assessments&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_assessments</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_address</span><span class="p">()</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_url</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_items_network</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>
        
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

        
<div class="viewcode-block" id="Case.items_to_full_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.items_to_full_network">[docs]</a>    <span class="k">def</span> <span class="nf">items_to_full_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a fully connected network where each vertex represents an item with attributes containing the item&#39;s data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">())</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">item_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="n">full_network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">item_count</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span> <span class="n">loops</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">full_network</span><span class="p">[</span><span class="s1">&#39;item_ids&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span>

        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span>
        <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;item&#39;</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            
            <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="n">whois</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">whois</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">whois</span><span class="p">)</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
                <span class="n">whois</span> <span class="o">=</span> <span class="n">whois</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">whois</span> <span class="o">=</span> <span class="n">whois</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                
            <span class="n">user_assessments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">user_assessments</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">user_assessments</span><span class="p">)</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
                <span class="n">user_assessments</span> <span class="o">=</span> <span class="n">user_assessments</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">user_assessments</span> <span class="o">=</span> <span class="n">user_assessments</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;whois&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">whois</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">references</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;contains&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">contains</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;user_assessments&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_assessments</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_address</span><span class="p">()</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_url</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span> <span class="o">=</span> <span class="n">full_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">full_network</span></div>

    
<div class="viewcode-block" id="Case.keywords_to_vertices"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.keywords_to_vertices">[docs]</a>    <span class="k">def</span> <span class="nf">keywords_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a disconnected network where each vertex represents a word in the case&#39;s dataset.</span>
<span class="sd">        </span>
<span class="sd">        Vertices have a &#39;frequency&#39; attribute representing the number of times that word appears in the case set and a &#39;frequency_per_item&#39; attribute representing the number of times it appears in item entries, on average.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_word_frequencies</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

        <span class="n">word_set</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word_set</span><span class="p">),</span> <span class="n">directed</span> <span class="o">=</span> <span class="n">direction</span><span class="p">)</span>
        <span class="n">network</span><span class="p">[</span><span class="s1">&#39;all_keywords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_set</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;word&#39;</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;found_in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;found_in&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;found_in_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;found_in_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;frequency_per_item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;frequency_per_item&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;breakdown&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;breakdown&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_words_network</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>
    
    
<div class="viewcode-block" id="Case.keywords_to_full_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.keywords_to_full_network">[docs]</a>    <span class="k">def</span> <span class="nf">keywords_to_full_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a fully connected network where each vertex represents a keyword in the case&#39;s dataset.</span>
<span class="sd">        </span>
<span class="sd">        Vertices have a &#39;frequency&#39; attribute representing the number of times that word appears in the case set and a &#39;frequency_per_item&#39; attribute representing the number of times it appears in item entries, on average.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">keywords_generated</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_word_frequencies</span><span class="p">(</span><span class="n">clean</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

        <span class="n">word_set</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">word_set</span><span class="p">),</span> <span class="n">directed</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span> <span class="n">loops</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">network</span><span class="p">[</span><span class="s1">&#39;all_keywords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_set</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;word&#39;</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;found_in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;found_in&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;found_in_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;found_in_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;frequency_per_item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;frequency_per_item&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;breakdown&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;breakdown&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_words_network</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>
    
    
<div class="viewcode-block" id="Case.info_to_vertices"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_to_vertices">[docs]</a>    <span class="k">def</span> <span class="nf">info_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a disconnected network where each vertex represents a piece of information in the case&#39;s total information set. </span>
<span class="sd">        </span>
<span class="sd">        Vertices have a &#39;count&#39; attribute representing the number of times that information appears in the item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">freqs</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="s1">&#39;Information&#39;</span><span class="p">)</span>
        <span class="n">info_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">])</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">info_set</span><span class="p">),</span> <span class="n">directed</span> <span class="o">=</span> <span class="n">direction</span><span class="p">)</span>
        <span class="n">network</span><span class="p">[</span><span class="s1">&#39;all_information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">info_set</span><span class="p">)</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;information&#39;</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">freqs</span><span class="p">[</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_info_network</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

<div class="viewcode-block" id="Case.info_to_full_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_to_full_network">[docs]</a>    <span class="k">def</span> <span class="nf">info_to_full_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a fully connected network where each vertex represents a piece of information in the case&#39;s total information set. </span>
<span class="sd">        </span>
<span class="sd">        Vertices have a &#39;count&#39; attribute representing the number of times that information appears in the item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">freqs</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="s1">&#39;Information&#39;</span><span class="p">)</span>
        <span class="n">info_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">])</span>

        <span class="n">full_network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">info_set</span><span class="p">),</span> <span class="n">directed</span> <span class="o">=</span> <span class="n">direction</span><span class="p">,</span> <span class="n">loops</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">full_network</span><span class="p">[</span><span class="s1">&#39;all_information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">info_set</span><span class="p">)</span>
        <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;information&#39;</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">freqs</span><span class="p">[</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_info_network</span> <span class="o">=</span> <span class="n">full_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">full_network</span></div>

    
<div class="viewcode-block" id="Case.metadata_to_vertices"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_to_vertices">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a disconnected network where each vertex represents a piece of metadata in the case&#39;s total metadata set.</span>
<span class="sd">        </span>
<span class="sd">        Vertices have a &#39;count&#39; attribute representing the number of times that metadata appears in the item set.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        directed_yn : str</span>
<span class="sd">            direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Category&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">freqs</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">)</span>
        <span class="n">metadata_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">freqs</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata_set</span><span class="p">)</span>
        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>
        <span class="n">network</span><span class="p">[</span><span class="s1">&#39;all_metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

        <span class="c1"># Retrieving vertex attributes</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_set</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;metadata&#39;</span>
        
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">freqs</span><span class="p">[</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_metadata_network</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

<div class="viewcode-block" id="Case.metadata_to_full_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_to_full_network">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_to_full_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">            </span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a fully connected network where each vertex represents a piece of metadata in the case&#39;s total metadata set.</span>

<span class="sd">            Vertices have a &#39;count&#39; attribute representing the number of times that metadata appears in the item set.</span>
<span class="sd">            </span>
<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            directed_yn : str</span>
<span class="sd">                direction for network edges. Options: &#39;undirected&#39; or &#39;directed&#39;.</span>
<span class="sd">            append_to_case : bool</span>
<span class="sd">                whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            
            <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">directed_yn</span> <span class="o">==</span> <span class="s1">&#39;directed&#39;</span><span class="p">)</span>

            <span class="c1"># Initialising network</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Category&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">freqs</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">)</span>
            <span class="n">metadata_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">freqs</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata_set</span><span class="p">)</span>

            <span class="n">full_network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="n">size</span><span class="p">,</span> <span class="n">directed</span> <span class="o">=</span> <span class="n">direction</span><span class="p">,</span> <span class="n">loops</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">full_network</span><span class="p">[</span><span class="s1">&#39;all_metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="c1"># Retrieving vertex attributes</span>
            <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">metadata_set</span><span class="p">)</span>
            <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;metadata&#39;</span>

            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">full_network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">freqs</span><span class="p">[</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>

            <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_metadata_network</span> <span class="o">=</span> <span class="n">full_network</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">full_network</span></div>
    
    
    
    
<div class="viewcode-block" id="Case.generate_links_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_links_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_links_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a directed network representing if/how items embed hyperlinks to one another.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>

            <span class="c1"># Initialising network</span>
        <span class="n">links_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;directed&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Retrieving data</span>
        <span class="n">url_addrs_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_urls_metadata_dict</span><span class="p">()</span>
        <span class="n">urls_items_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([</span><span class="nb">tuple</span><span class="p">((</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">url_addrs_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">links_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_links_dict</span><span class="p">()</span>


        <span class="c1"># Adding edges</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">links_network</span><span class="o">.</span><span class="n">vs</span><span class="p">:</span>

            <span class="n">v_name</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">v_index</span> <span class="o">=</span> <span class="n">vertex</span><span class="o">.</span><span class="n">index</span>
            <span class="n">v_url</span> <span class="o">=</span> <span class="n">url_addrs_dict</span><span class="p">[</span><span class="n">v_name</span><span class="p">]</span>
            <span class="n">v_links</span> <span class="o">=</span> <span class="n">links_dict</span><span class="p">[</span><span class="n">v_name</span><span class="p">]</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">v_links</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">((</span><span class="nb">type</span><span class="p">(</span><span class="n">v_links</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v_links</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">)):</span>
                <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">v_links</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">urls_items_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">end_name</span> <span class="o">=</span> <span class="n">urls_items_dict</span><span class="p">[</span><span class="n">link</span><span class="p">]</span>
                        <span class="n">end_index</span> <span class="o">=</span> <span class="n">links_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">end_name</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">links_network</span><span class="p">,</span> 
                                        <span class="p">[(</span><span class="n">v_index</span><span class="p">,</span> <span class="n">end_index</span><span class="p">)],</span> 
                                        <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
                                           <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v_name</span><span class="si">}</span><span class="s1"> -&gt; </span><span class="si">{</span><span class="n">end_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">})</span>
                    
        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_links</span> <span class="o">=</span> <span class="n">links_network</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">links_network</span> </div>
    

<div class="viewcode-block" id="Case.generate_refs_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_refs_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_refs_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a directed network representing how item entries reference one another.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">refs_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;directed&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">other_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span>
        <span class="n">refs_network</span><span class="p">[</span><span class="s1">&#39;all_references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">other_df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        
        <span class="c1"># Adding edges</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">refs_network</span><span class="o">.</span><span class="n">vs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">refs_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                        <span class="n">end_index</span> <span class="o">=</span> <span class="n">refs_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">ref</span><span class="p">)</span>
                        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">refs_network</span><span class="p">,</span> 
                                    <span class="p">[(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">end_index</span><span class="p">)],</span> 
                                    <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
                                           <span class="s1">&#39;reference&#39;</span><span class="p">:</span> <span class="s1">&#39;to &#39;</span><span class="o">+</span><span class="n">ref</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_references</span> <span class="o">=</span> <span class="n">refs_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">refs_network</span></div>


<div class="viewcode-block" id="Case.generate_contents_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_contents_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_contents_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a directed network representing how item entries contain one another.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">contains_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;directed&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">other_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span>
        <span class="n">contains_network</span><span class="p">[</span><span class="s1">&#39;all_references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">other_df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        
        <span class="c1"># Adding edges for each vertex&#39;s set of conents.</span>
        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">contains_network</span><span class="o">.</span><span class="n">vs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;contains&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;contains&#39;</span><span class="p">]:</span>
        <span class="c1">#             item = [item]</span>

                    <span class="c1"># Checking if item matches an  item. If one is found, an edge is created between the two vertices.</span>
                    <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">contains_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                        <span class="n">end_index</span> <span class="o">=</span> <span class="n">contains_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item</span><span class="p">)</span>
                        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">contains_network</span><span class="p">,</span> 
                                    <span class="p">[(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">end_index</span><span class="p">)],</span> 
                                    <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>
                                           <span class="s1">&#39;structure&#39;</span><span class="p">:</span> <span class="s1">&#39;contains &#39;</span><span class="o">+</span><span class="n">item</span><span class="p">})</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_contents</span> <span class="o">=</span> <span class="n">contains_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">contains_network</span></div>
        
    
<div class="viewcode-block" id="Case.generate_urls_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_urls_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_urls_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a directed network representing if/how items&#39; URLs embed hyperlinks to other URLs.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">urls_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">():</span>
            <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_url</span><span class="p">()</span>
            <span class="n">urls_dict</span><span class="p">[</span><span class="n">url</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">links</span>
        
        <span class="n">urls_network</span> <span class="o">=</span> <span class="n">generate_urls_network</span><span class="p">(</span><span class="n">urls_dict</span><span class="p">)</span>
        <span class="n">urls_network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="p">(</span><span class="n">urls_network</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">urls_network</span> <span class="o">=</span> <span class="n">urls_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">urls_network</span></div>
        
        
<div class="viewcode-block" id="Case.generate_items_words_shared_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_words_shared_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_words_shared_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether items share words. Item pairs with no shared words do not share edges.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: instances where two items share 1 or more words. </span>
<span class="sd">            * edge weghts: number of words shared.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1">#         words_shared_network = copy.deepcopy(self.networks.full_items_network)</span>
        <span class="n">words_shared_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_words_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span>
        <span class="n">words_shared_network</span><span class="p">[</span><span class="s1">&#39;all_keyword_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
<span class="c1">#         df = df[df[&#39;Intersect size&#39;] &gt; 0]</span>

        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            
            <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">words_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
            <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">words_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
            <span class="n">edge_id</span> <span class="o">=</span> <span class="n">words_shared_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ∩ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_words&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Levenshtein distance&#39;</span><span class="p">]</span>


        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">words_shared_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">words_shared_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_words_shared</span> <span class="o">=</span> <span class="n">words_shared_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">words_shared_network</span></div>


<div class="viewcode-block" id="Case.generate_keywords_coincidence_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_keywords_coincidence_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_keywords_coincidence_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether keywords coincide in items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        limit : int</span>
<span class="sd">            the number of keywords used to check coincidences. Uses the top n most frequent keywords (where n=limit).</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: keywords.</span>
<span class="sd">            * edges: instances where two keywords appear together in 1 or more items.</span>
<span class="sd">            * edge weghts: number of co-occurences.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="n">words_co_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keywords_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">coincidences_identified</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">words_co_network</span><span class="p">[</span><span class="s1">&#39;keyword_coincidences&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>

            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">word_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="p">)</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

            <span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; &amp; &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

            <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">words_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
            <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">words_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>

            <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">words_co_network</span><span class="p">,</span> <span class="p">[(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)],</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">freq</span><span class="p">,</span> <span class="s1">&#39;coincide_in&#39;</span><span class="p">:</span> <span class="n">coincide_in</span><span class="p">})</span>

       <span class="c1"># Deleting redundant edges</span>
<span class="c1">#         to_del = words_co_network.es.select(lambda x: (x[&quot;weight&quot;]==0) or (math.isnan(x[&quot;weight&quot;]) == True) or (x[&quot;weight&quot;]==&quot;N/A&quot;) or (x[&quot;name&quot;]==&quot;N/A&quot;))</span>
<span class="c1">#         CaseNetwork.delete_edges(words_co_network, to_del)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coinciding_words</span> <span class="o">=</span> <span class="n">words_co_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">words_co_network</span></div>

        
<div class="viewcode-block" id="Case.generate_items_words_similarity_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_words_similarity_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_words_similarity_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing the similarity between items&#39; keywords.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        weight_by : str</span>
<span class="sd">            the text similarity measure to weight by.  Defaults to &#39;Cosine similarity&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: paired comparisons. </span>
<span class="sd">            * edge weghts: a text similarity measure. Defaults to &#39;Cosine similarity&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">words_sim_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_words_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="n">words_sim_network</span><span class="p">[</span><span class="s1">&#39;all_keywords_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">words_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">words_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="n">words_sim_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ~ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">weight_by</span><span class="p">]</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_words&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_words_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
                <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Levenshtein distance&#39;</span><span class="p">]</span>
            
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">words_sim_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">words_sim_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_words_similarity</span> <span class="o">=</span> <span class="n">words_sim_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">words_sim_network</span></div>


<div class="viewcode-block" id="Case.generate_items_info_shared_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_info_shared_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_info_shared_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether items share information entries. Item pairs with no shared entries do not share edges.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: instances where two items share 1 or more information entries. </span>
<span class="sd">            * edge weghts: number of information entries shared.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">info_shared_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_info_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">info_shared_network</span><span class="p">[</span><span class="s1">&#39;all_information_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
<span class="c1">#         df = df[df[&#39;Intersect size&#39;] &gt; 0]</span>

        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">info_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">info_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="n">info_shared_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ∩ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
                <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;mean_levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">info_shared_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">info_shared_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_shared</span> <span class="o">=</span> <span class="n">info_shared_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">info_shared_network</span></div>


<div class="viewcode-block" id="Case.generate_items_info_similarity_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_info_similarity_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_info_similarity_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing the similarity between items&#39; information sets.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        weight_by : str</span>
<span class="sd">            the similarity measure to weight by.  Defaults to &#39;Set similarity&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: paired comparisons. </span>
<span class="sd">            * edge weghts: a similarity measure. Defaults to &#39;Set similarity&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">info_sim_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_info_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="n">info_sim_network</span><span class="p">[</span><span class="s1">&#39;all_information_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">info_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">info_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="n">info_sim_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ~ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">weight_by</span><span class="p">]</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_info_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
                <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;mean_levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">info_sim_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">info_sim_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_similarity</span> <span class="o">=</span> <span class="n">info_sim_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">info_sim_network</span></div>


<div class="viewcode-block" id="Case.generate_info_coincidence_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_info_coincidence_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_info_coincidence_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether information entries coincide in items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: information entries.</span>
<span class="sd">            * edges: instances where two information entries appear together in 1 or more items.</span>
<span class="sd">            * edge weghts: number of co-occurences.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;disconnected_info_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="n">info_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">info_co_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_info_network</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">coincidences_identified</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#         df = df.astype(str)</span>
        <span class="n">info_co_network</span><span class="p">[</span><span class="s1">&#39;information_coincidences&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>

            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

            <span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; &amp; &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

            <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">info_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
            <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">info_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>

            <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">info_co_network</span><span class="p">,</span> <span class="p">[(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)],</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">freq</span><span class="p">,</span> <span class="s1">&#39;coincide_in&#39;</span><span class="p">:</span> <span class="n">coincide_in</span><span class="p">})</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coinciding_information</span> <span class="o">=</span> <span class="n">info_co_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">info_co_network</span></div>


<div class="viewcode-block" id="Case.generate_items_metadata_shared_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_metadata_shared_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_metadata_shared_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether items share metadata entries. Item pairs with no shared entries do not share edges.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: instances where two items share 1 or more metadata entries. </span>
<span class="sd">            * edge weghts: number of metadata entries shared.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">metadata_shared_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_metadata_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#         df = df[df[&#39;Intersect size&#39;] &gt; 0]</span>
        <span class="n">metadata_shared_network</span><span class="p">[</span><span class="s1">&#39;all_metadata_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
    
    
        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ∩ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
                <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;mean_levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
                
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">metadata_shared_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">metadata_shared_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_shared</span> <span class="o">=</span> <span class="n">metadata_shared_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">metadata_shared_network</span></div>

<div class="viewcode-block" id="Case.generate_items_metadata_similarity_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_metadata_similarity_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_metadata_similarity_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing the similarity between items&#39; metadata sets.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        weight_by : str</span>
<span class="sd">            the similarity measure to weight by.  Defaults to &#39;Set similarity&#39;.</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: items.</span>
<span class="sd">            * edges: paired comparisons. </span>
<span class="sd">            * edge weghts: a similarity measure. Defaults to &#39;Set similarity&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;full_items_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">metadata_sim_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">full_items_network</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_metadata_comparisons</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;First item&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#         df = df[df[&#39;Intersect size&#39;] &gt; 0]</span>
        <span class="n">metadata_sim_network</span><span class="p">[</span><span class="s1">&#39;all_metadata_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="c1"># Adding attributes to edges</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">get_eid</span><span class="p">(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)</span>

                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; ~ &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">weight_by</span><span class="p">]</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect&#39;</span><span class="p">]</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;shared_metadata_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;cosine_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
                <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="n">edge_id</span><span class="p">][</span><span class="s1">&#39;mean_levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="c1"># Deleting redundant edges</span>
        <span class="n">to_del</span> <span class="o">=</span> <span class="n">metadata_sim_network</span><span class="o">.</span><span class="n">es</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;N/A&quot;</span><span class="p">))</span>
        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">metadata_sim_network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_similarity</span> <span class="o">=</span> <span class="n">metadata_sim_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">metadata_sim_network</span></div>

        
        
<div class="viewcode-block" id="Case.generate_metadata_coincidence_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_metadata_coincidence_network">[docs]</a>    <span class="k">def</span> <span class="nf">generate_metadata_coincidence_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected network representing whether metadata entries coincide in items.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: metadata entries.</span>
<span class="sd">            * edges: instances where two metadata entries appear together in 1 or more items.</span>
<span class="sd">            * edge weghts: number of co-occurences.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Initialising network</span>
        <span class="k">if</span> <span class="s1">&#39;disconnected_metadata_network&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="n">metadata_to_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">metadata_co_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">disconnected_metadata_network</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">coincidences_identified</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#         df = df.astype(str)</span>
        <span class="n">metadata_co_network</span><span class="p">[</span><span class="s1">&#39;metadata_coincidences&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>

            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="n">item_1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">item_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

            <span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span> <span class="o">+</span> <span class="s1">&#39; &amp; &#39;</span> <span class="o">+</span> <span class="n">item_2</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

            <span class="n">start_vertex</span> <span class="o">=</span> <span class="n">metadata_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_1</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
            <span class="n">end_vertex</span> <span class="o">=</span> <span class="n">metadata_co_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">item_2</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>

            <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">metadata_co_network</span><span class="p">,</span> <span class="p">[(</span><span class="n">start_vertex</span><span class="p">,</span> <span class="n">end_vertex</span><span class="p">)],</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">freq</span><span class="p">,</span> <span class="s1">&#39;coincide_in&#39;</span><span class="p">:</span> <span class="n">coincide_in</span><span class="p">})</span>

       <span class="c1"># Deleting redundant edges</span>
<span class="c1">#         to_del = metadata_co_network.es.select(lambda x: (x[&quot;weight&quot;]==0) or (math.isnan(x[&quot;weight&quot;]) == True) or (x[&quot;weight&quot;]==&quot;N/A&quot;) or (x[&quot;name&quot;]==&quot;N/A&quot;))</span>
<span class="c1">#         CaseNetwork.delete_edges(metadata_co_network, to_del)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coinciding_metadata</span> <span class="o">=</span> <span class="n">metadata_co_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">metadata_co_network</span></div>


<div class="viewcode-block" id="Case.info_items_partitioned"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_items_partitioned">[docs]</a>    <span class="k">def</span> <span class="nf">info_items_partitioned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected bipartite network representing which items contain information entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: </span>
<span class="sd">                * Information entries</span>
<span class="sd">                * Items</span>
<span class="sd">            * edges: whether an information entry appears in an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">item_vs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">())</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        
        <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_vs</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span>
        <span class="n">info_vs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">info_vs</span><span class="p">)))</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">item_vs</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">info_vs</span><span class="p">)</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">item_vs</span> <span class="o">+</span> <span class="n">info_vs</span>

        <span class="n">edgelist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">item_vs</span><span class="p">:</span>
            <span class="n">item_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="n">item_info</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">item_info</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
                <span class="n">edge_id</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
                <span class="n">edgelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge_id</span><span class="p">)</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full_Bipartite</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">item_vs</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">info_vs</span><span class="p">))</span>

        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">types</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">vtype</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">in</span> <span class="n">item_vs</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vtype</span> <span class="o">==</span> <span class="s1">&#39;item&#39;</span><span class="p">):</span>
                <span class="n">item_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>


        <span class="n">to_del</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">es</span><span class="p">():</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">source</span><span class="p">]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
            <span class="n">edge_pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">target</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">edge_pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">edgelist</span><span class="p">:</span>
                <span class="n">to_del</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge_pair</span><span class="p">)</span>

        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="n">network</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_partitioned</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>


<div class="viewcode-block" id="Case.metadata_items_partitioned"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_items_partitioned">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_items_partitioned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected bipartite network representing which items contain metadata entries.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: </span>
<span class="sd">                * Metadata entries</span>
<span class="sd">                * Items</span>
<span class="sd">            * edges: whether a metadata entry appears in an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">item_vs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">())</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">metadata_vs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_metadata_set</span><span class="p">()))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">metadata_vs</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;: None&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;: none&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;None&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;none&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)):</span>
                <span class="n">metadata_vs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">item_vs</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">metadata_vs</span><span class="p">)</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">item_vs</span> <span class="o">+</span> <span class="n">metadata_vs</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full_Bipartite</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">item_vs</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">metadata_vs</span><span class="p">))</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">types</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>

        <span class="n">edgelist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">item_vs</span><span class="p">:</span>
            <span class="n">series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> 
            <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="n">series</span><span class="p">:</span>
                <span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
                <span class="n">edgelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">vtype</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="ow">in</span> <span class="n">item_vs</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vtype</span> <span class="o">==</span> <span class="s1">&#39;item&#39;</span><span class="p">):</span>
                    <span class="n">item_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                    <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                    <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">item_data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

        <span class="n">to_del</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">es</span><span class="p">():</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">source</span><span class="p">]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
            <span class="n">edge_pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">target</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">edge_pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">edgelist</span><span class="p">:</span>
                <span class="n">to_del</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge_pair</span><span class="p">)</span>

        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;: None&#39;</span> <span class="ow">in</span> <span class="n">v</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_vertices</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="p">[</span><span class="n">v</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_partitioned</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

        
<div class="viewcode-block" id="Case.info_metadata_items_partitioned"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_metadata_items_partitioned">[docs]</a>    <span class="k">def</span> <span class="nf">info_metadata_items_partitioned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected tripartite network representing how items, information entries, and metadata entries occur together.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: </span>
<span class="sd">                * Information entries</span>
<span class="sd">                * Metadata entries</span>
<span class="sd">                * Items</span>
<span class="sd">            * edges: whether an information entry or metadata entry appears in an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_information_partitioned&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_items_partitioned</span><span class="p">()</span>

        <span class="n">g1</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_partitioned</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;items_metadata_partitioned&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata_items_partitioned</span><span class="p">()</span>

        <span class="n">g2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_partitioned</span><span class="p">)</span>

        <span class="k">del</span> <span class="n">g1</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g2</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span>

        <span class="k">del</span> <span class="n">g1</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g2</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span>

        <span class="k">del</span> <span class="n">g1</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g2</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">union</span><span class="p">([</span><span class="n">g1</span><span class="p">,</span><span class="n">g2</span><span class="p">])</span>
        <span class="n">network</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_metadata_partitioned</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

<div class="viewcode-block" id="Case.info_metadata_partitioned"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_metadata_partitioned">[docs]</a>    <span class="k">def</span> <span class="nf">info_metadata_partitioned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected bipartite network representing how information entries and metadata entries occur together.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: </span>
<span class="sd">                * Information entries</span>
<span class="sd">                * Metadata entries</span>
<span class="sd">            * edges: whether an information entry and metadata entry appear together in an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_information_metadata_partitioned&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_metadata_items_partitioned</span><span class="p">()</span>

        <span class="n">base_network</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_metadata_partitioned</span><span class="p">)</span>

        <span class="n">item_seq</span> <span class="o">=</span> <span class="n">base_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;item&#39;</span><span class="p">)</span>
        <span class="n">info_seq</span> <span class="o">=</span> <span class="n">base_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;information&#39;</span><span class="p">)</span>
        <span class="n">metadata_seq</span> <span class="o">=</span> <span class="n">base_network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>

        <span class="n">types</span> <span class="o">=</span> <span class="n">info_seq</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">metadata_seq</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">info_seq</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">metadata_seq</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">Full_Bipartite</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">info_seq</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">metadata_seq</span><span class="p">))</span>

        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">types</span>
        <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>

        <span class="n">edgelist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">item_seq</span><span class="p">:</span>

            <span class="n">neighbors_list</span> <span class="o">=</span> <span class="n">vertex</span><span class="o">.</span><span class="n">neighbors</span><span class="p">()</span>
            <span class="n">info_neighbors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">metadata_neighbors</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">neighbors_list</span><span class="p">:</span>
                <span class="n">match_index</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>

                <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;information&#39;</span><span class="p">:</span>
                    <span class="n">info_neighbors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">match_index</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:</span>
                    <span class="n">metadata_neighbors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">match_index</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">info_neighbors</span><span class="p">:</span>
                 <span class="k">for</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">metadata_neighbors</span><span class="p">:</span>
                    <span class="n">edgelist</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">info</span><span class="p">,</span> <span class="n">meta</span><span class="p">))</span>

        <span class="n">to_del</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">es</span><span class="p">():</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">source</span><span class="p">]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">edge</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
            <span class="n">edge_pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">target</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">edge_pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">edgelist</span><span class="p">:</span>
                <span class="n">to_del</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edge_pair</span><span class="p">)</span>

        <span class="n">CaseNetwork</span><span class="o">.</span><span class="n">delete_edges</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">to_del</span><span class="p">)</span>
        <span class="n">network</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">information_metadata_partitioned</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>

        
<div class="viewcode-block" id="Case.info_metadata_items_co"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_metadata_items_co">[docs]</a>    <span class="k">def</span> <span class="nf">info_metadata_items_co</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an undirected tripartite network which represents how items, information entries, and metadata entries co-occur, as well as how much information and metadata items share with one another.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: </span>
<span class="sd">                * Information entries</span>
<span class="sd">                * Metadata entries</span>
<span class="sd">                * Items</span>
<span class="sd">            * edges: whether one of the three object types occur together.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_information_metadata_partitioned&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_metadata_items_partitioned</span><span class="p">()</span>

        <span class="n">g1</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_metadata_partitioned</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">g1</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">g1</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
        

        
        <span class="k">if</span> <span class="s1">&#39;items_information_shared&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_info_shared_network</span><span class="p">()</span>

        <span class="n">g2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_shared</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">g2</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">g2</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;items_metadata_shared&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_metadata_shared_network</span><span class="p">()</span>

        <span class="n">g3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_shared</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">g3</span><span class="o">.</span><span class="n">vs</span><span class="o">.</span><span class="n">attributes</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">g3</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>

        <span class="n">network</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">union</span><span class="p">([</span><span class="n">g1</span><span class="p">,</span><span class="n">g2</span><span class="p">,</span> <span class="n">g3</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coinciding_items_information_metadata</span> <span class="o">=</span> <span class="n">network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">network</span></div>


<div class="viewcode-block" id="Case.combined_items_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.combined_items_network">[docs]</a>    <span class="k">def</span> <span class="nf">combined_items_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a directed network which represents all data shared between items (metadata, information, links, etc.)</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to add the network to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Network details:</span>
<span class="sd">            * vertices: Items</span>
<span class="sd">            * edges: </span>
<span class="sd">                * Information shared</span>
<span class="sd">                * Metadata shared</span>
<span class="sd">                * Words shared</span>
<span class="sd">                * Links</span>
<span class="sd">                * References</span>
<span class="sd">                * Contents</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">new_network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;directed&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">all_networks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>

        <span class="k">if</span> <span class="s1">&#39;items_links&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_links_network</span><span class="p">()</span>

        <span class="n">glinks</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_links</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">glinks</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">glinks</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                    <span class="n">new_network</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>


        <span class="k">if</span> <span class="s1">&#39;items_references&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_refs_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">grefs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_references</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grefs</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">grefs</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                    <span class="n">new_network</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>


        <span class="k">if</span> <span class="s1">&#39;items_contents&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_contents_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">gcontents</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_contents</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gcontents</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">gcontents</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                    <span class="n">new_network</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>


        <span class="k">if</span> <span class="s1">&#39;items_information_shared&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_info_shared_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">ginfo</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_information_shared</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ginfo</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ginfo_dir</span> <span class="o">=</span> <span class="n">ginfo</span><span class="o">.</span><span class="n">as_directed</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">ginfo_dir</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                    <span class="n">new_network</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>


        <span class="k">if</span> <span class="s1">&#39;items_metadata_shared&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_metadata_shared_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="n">gmeta</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items_metadata_shared</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gmeta</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">gmeta_dir</span> <span class="o">=</span> <span class="n">gmeta</span><span class="o">.</span><span class="n">as_directed</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">gmeta_dir</span><span class="o">.</span><span class="n">vs</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_network</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
                    <span class="n">new_network</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        
        <span class="c1"># Need to add links network</span>
        <span class="n">networks_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">grefs</span><span class="p">,</span> <span class="n">gcontents</span><span class="p">,</span> <span class="n">ginfo_dir</span><span class="p">,</span> <span class="n">gmeta_dir</span><span class="p">]</span>

        <span class="n">labels_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">,</span> <span class="s1">&#39;contents&#39;</span><span class="p">,</span> <span class="s1">&#39;information shared&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata shared&#39;</span><span class="p">]</span>
        <span class="n">weights_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ginfo_dir</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">],</span> <span class="n">gmeta_dir</span><span class="o">.</span><span class="n">es</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">networks_list</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">network</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>

                <span class="n">edgelist</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">es</span><span class="p">():</span>
                    <span class="n">source_id</span> <span class="o">=</span> <span class="n">edge</span><span class="o">.</span><span class="n">source</span>
                    <span class="n">target_id</span> <span class="o">=</span> <span class="n">edge</span><span class="o">.</span><span class="n">target</span>
                    <span class="n">addr</span> <span class="o">=</span> <span class="p">(</span><span class="n">source_id</span><span class="p">,</span> <span class="n">target_id</span><span class="p">)</span>
                    <span class="n">edgelist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">addr</span><span class="p">)</span>

                <span class="n">new_network</span><span class="o">.</span><span class="n">add_edges</span><span class="p">(</span><span class="n">edgelist</span><span class="p">,</span> <span class="n">attributes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="n">labels_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="n">weights_list</span><span class="p">[</span><span class="n">index</span><span class="p">]})</span>
                <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">combined_items_network</span> <span class="o">=</span> <span class="n">new_network</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">new_network</span></div>


<div class="viewcode-block" id="Case.generate_base_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_base_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_base_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">keywords</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all base network types and assigns to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        items : bool</span>
<span class="sd">            whether to generate items networks.</span>
<span class="sd">        keywords : bool</span>
<span class="sd">            whether to generate keywords networks.</span>
<span class="sd">        info : bool</span>
<span class="sd">            whether to generate information networks.</span>
<span class="sd">        metadata : bool</span>
<span class="sd">            whether to generate metadata networks.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">items</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">keywords</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">keywords_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">keywords_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata_to_vertices</span><span class="p">(</span><span class="n">directed_yn</span><span class="o">=</span><span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata_to_full_network</span><span class="p">(</span><span class="n">directed_yn</span> <span class="o">=</span> <span class="s1">&#39;undirected&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>


<div class="viewcode-block" id="Case.generate_items_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_items_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_items_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keywords</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all item network types and assigns to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        keywords : bool</span>
<span class="sd">            whether to generate keywords networks.</span>
<span class="sd">        info : bool</span>
<span class="sd">            whether to generate information networks.</span>
<span class="sd">        metadata : bool</span>
<span class="sd">            whether to generate metadata networks.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">keywords</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_words_shared_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_words_similarity_network</span><span class="p">(</span><span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_info_shared_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_info_similarity_network</span><span class="p">(</span><span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_metadata_shared_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_metadata_similarity_network</span><span class="p">(</span><span class="n">weight_by</span> <span class="o">=</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">combined_items_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>


<div class="viewcode-block" id="Case.generate_directed_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_directed_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_directed_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all directed networks and assigns to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_links_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_refs_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_contents_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_urls_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>

        

<div class="viewcode-block" id="Case.generate_coincidence_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_coincidence_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_coincidence_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keywords</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all coincidence networks for data types and assigns to the Case&#39;s CaseNetworks collection. </span>
<span class="sd">        </span>
<span class="sd">        WARNING: These operations are computationally intensive.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        keywords : bool</span>
<span class="sd">            whether to generate keywords networks.</span>
<span class="sd">        info : bool</span>
<span class="sd">            whether to generate information networks.</span>
<span class="sd">        metadata : bool</span>
<span class="sd">            whether to generate metadata networks.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">keywords</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords_coincidence_network</span><span class="p">(</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_info_coincidence_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_metadata_coincidence_network</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
    


<div class="viewcode-block" id="Case.generate_partitioned_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_partitioned_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_partitioned_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all n-partite networks and assigns to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
         <span class="c1"># Creates a bipartite network between item entries and information entries</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">info_items_partitioned</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_items_partitioned</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">info_metadata_items_partitioned</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">info_metadata_partitioned</span><span class="p">(</span><span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1">#         self.info_metadata_items_co(append_to_case = True) # not working currently</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>

        

<div class="viewcode-block" id="Case.generate_all_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_all_networks">[docs]</a>    <span class="k">def</span> <span class="nf">generate_all_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">keywords</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">directed_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>  <span class="n">coincidence_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">partitioned_networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all network types and assigns to the Case&#39;s CaseNetworks collection.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        items : bool</span>
<span class="sd">            whether to generate items networks.</span>
<span class="sd">        keywords : bool</span>
<span class="sd">            whether to generate keywords networks.</span>
<span class="sd">        info : bool</span>
<span class="sd">            whether to generate information networks.</span>
<span class="sd">        metadata : bool</span>
<span class="sd">            whether to generate metadata networks.</span>
<span class="sd">        directed_networks : bool</span>
<span class="sd">            whether to generate links, references, and contents networks.</span>
<span class="sd">        coincidence_networks : bool</span>
<span class="sd">            whether to generate coincidence networks.</span>
<span class="sd">        partitioned_networks : bool</span>
<span class="sd">            whether to generate partitioned networks.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_base_networks</span><span class="p">(</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span><span class="p">,</span> 
                                    <span class="n">keywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="p">,</span> 
                                    <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="p">,</span> 
                                    <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">items</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_items_networks</span><span class="p">(</span><span class="n">keywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">directed_networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_directed_networks</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">coincidence_networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_coincidence_networks</span><span class="p">(</span><span class="n">keywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">partitioned_networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_partitioned_networks</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">networks_generated</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
    
    

    <span class="c1"># Methods for identifying if and how datapoints coincide across the case</span>
    
<div class="viewcode-block" id="Case.rawdata_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.rawdata_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">rawdata_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different sets of raw data occur together in item entries across the dataset. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">all_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">(</span><span class="n">select_by_type</span> <span class="o">=</span> <span class="n">select_by_type</span><span class="p">)</span>
        <span class="n">rawdata_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_data</span><span class="p">[</span><span class="s1">&#39;Raw data&#39;</span><span class="p">])</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">rawdata_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First dataset&#39;</span><span class="p">,</span> <span class="s1">&#39;Second dataset&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>
        
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>
            
            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_data</span><span class="p">[</span><span class="n">all_data</span><span class="p">[</span><span class="s1">&#39;Raw data&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_data</span><span class="p">[</span><span class="n">all_data</span><span class="p">[</span><span class="s1">&#39;Raw data&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>

            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>

            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">output_df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;rawdata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;rawdata&#39;</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="Case.word_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.word_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">word_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Counts the number of times two different words occur together in item entries across the dataset. Returns a pandas.DataFrame.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Bug/issue: for some reason, the number of rows (i.e. pairs of words) fluctuates </span>
<span class="sd">        each time I reset the kernal and re-run the full program. It only occurs when I set &#39;ignore_nones&#39; to True,</span>
<span class="sd">        which indicates that the issue arises when it removes &#39;none&#39; words.</span>
<span class="sd">        Possibly because the there is variation in which words were selected for comparison, due to variation</span>
<span class="sd">        in the order of words in the &#39;frequent_words&#39; list. I&#39;m not sure how to get rid of this issue.</span>
<span class="sd">        The difference is significant (~ 2-3000) but still small compared to the total number of rows that usually occur.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">limit</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">):</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">all_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
                <span class="n">iter_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_words</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="n">limit</span><span class="p">][</span><span class="s1">&#39;word&#39;</span><span class="p">])</span>
                <span class="n">lookup_df</span> <span class="o">=</span> <span class="n">all_words</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">all_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_word_frequencies_detailed</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;found_in_frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
                <span class="n">iter_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_words</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="n">limit</span><span class="p">][</span><span class="s1">&#39;word&#39;</span><span class="p">])</span>
                <span class="n">lookup_df</span> <span class="o">=</span> <span class="n">all_words</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">all_words</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_words</span><span class="p">()</span>
            <span class="n">iter_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_words</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">])</span>
            <span class="n">lookup_df</span> <span class="o">=</span> <span class="n">all_words</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>

        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">iter_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First word&#39;</span><span class="p">,</span> <span class="s1">&#39;Second word&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="n">lookup_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;found_in&#39;</span><span class="p">]</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="n">lookup_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;found_in&#39;</span><span class="p">]</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">]</span></div>


<div class="viewcode-block" id="Case.info_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">info_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different pieces of information occur together in items across the case. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">info_df</span> <span class="o">=</span> <span class="n">info_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;Info&#39;</span><span class="p">,</span> <span class="s1">&#39;Found in&#39;</span><span class="p">]]</span>
        <span class="n">info_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Info&#39;</span><span class="p">])</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">info_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">,</span> <span class="s1">&#39;Second item&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">info_df</span><span class="p">[</span><span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">info_df</span><span class="p">[</span><span class="n">info_df</span><span class="p">[</span><span class="s1">&#39;Info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span></div>


<div class="viewcode-block" id="Case.metadata_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_by_category</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different pieces of metadata occur together in items across the case. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">(</span><span class="n">select_by_category</span> <span class="o">=</span> <span class="n">select_by_category</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Entry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span>
        <span class="n">metadata_df</span> <span class="o">=</span> <span class="n">metadata_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;Entry&#39;</span><span class="p">,</span> <span class="s1">&#39;Found in&#39;</span><span class="p">]]</span>
        <span class="n">metadata_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Entry&#39;</span><span class="p">])</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">metadata_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">,</span> <span class="s1">&#39;Second item&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">[</span><span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Entry&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">[</span><span class="n">metadata_df</span><span class="p">[</span><span class="s1">&#39;Entry&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
<span class="c1">#         self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span></div>


    
<div class="viewcode-block" id="Case.info_metadata_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_metadata_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">info_metadata_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies the number of times one information entry and one metadata entry appear together each item in the case. Returns a dataframe and saves it to the case object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_by_information&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_information</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_info</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_by_metadata&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="n">metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_metadata</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_by_metadata</span><span class="p">()</span>

        <span class="n">info_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">info_df</span><span class="o">.</span><span class="n">index</span><span class="p">)):</span>
            <span class="n">info_dict</span><span class="p">[(</span><span class="n">info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Label&#39;</span><span class="p">],</span> <span class="n">info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Items&#39;</span><span class="p">]</span>

        <span class="n">metadata_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata_df</span><span class="o">.</span><span class="n">index</span><span class="p">)):</span>
            <span class="n">metadata_dict</span><span class="p">[(</span><span class="n">metadata_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">],</span> <span class="n">metadata_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">metadata_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Items&#39;</span><span class="p">]</span>

        <span class="n">info_keys</span> <span class="o">=</span> <span class="n">info_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">metadata_keys</span> <span class="o">=</span> <span class="n">metadata_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">info_keys</span><span class="p">:</span>
            <span class="n">info_in</span> <span class="o">=</span> <span class="n">info_dict</span><span class="p">[</span><span class="n">info</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="n">metadata_keys</span><span class="p">:</span>
                <span class="n">metadata_in</span> <span class="o">=</span> <span class="n">metadata_dict</span><span class="p">[</span><span class="n">metadata</span><span class="p">]</span>

                <span class="n">both_in</span> <span class="o">=</span> <span class="n">info_in</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">metadata_in</span><span class="p">)</span>
                <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">both_in</span><span class="p">)</span>

                <span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">info</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">both_in</span><span class="p">,</span> <span class="n">count</span><span class="p">]</span>
                
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information and metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information and metadata&#39;</span><span class="p">]</span></div>
    
    
<div class="viewcode-block" id="Case.links_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.links_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">links_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different links occur together in items across the case. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">links_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_links_frequencies_detailed</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">links_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">links_df</span><span class="p">[</span><span class="s1">&#39;Link&#39;</span><span class="p">])</span>
        <span class="n">links_df</span> <span class="o">=</span> <span class="n">links_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Link&#39;</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">links_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First link&#39;</span><span class="p">,</span> <span class="s1">&#39;Second link&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">links_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">links_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;links&#39;</span><span class="p">]</span></div>
    

<div class="viewcode-block" id="Case.refs_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.refs_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">refs_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different references occur together in items across the case. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">refs_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_refs</span><span class="p">()</span>
        <span class="n">refs_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">refs_df</span><span class="p">[</span><span class="s1">&#39;Reference&#39;</span><span class="p">])</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">refs_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First reference&#39;</span><span class="p">,</span> <span class="s1">&#39;Second reference&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">refs_df</span><span class="p">[</span><span class="n">refs_df</span><span class="p">[</span><span class="s1">&#39;Reference&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">refs_df</span><span class="p">[</span><span class="n">refs_df</span><span class="p">[</span><span class="s1">&#39;Reference&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;references&#39;</span><span class="p">]</span></div>
    

<div class="viewcode-block" id="Case.contents_coincidence"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.contents_coincidence">[docs]</a>    <span class="k">def</span> <span class="nf">contents_coincidence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Counts the number of times two different pieces of content within items occur together in items across the case. Returns a pandas.DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">contents_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_contents</span><span class="p">()</span>
        <span class="n">contents_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">contents_df</span><span class="p">[</span><span class="s1">&#39;Content&#39;</span><span class="p">])</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">contents_set</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">,</span> <span class="s1">&#39;Second item&#39;</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">np</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="p">:</span>

            <span class="n">found_in_1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">contents_df</span><span class="p">[</span><span class="n">contents_df</span><span class="p">[</span><span class="s1">&#39;Content&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            <span class="n">found_in_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">contents_df</span><span class="p">[</span><span class="n">contents_df</span><span class="p">[</span><span class="s1">&#39;Content&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Found in&#39;</span><span class="p">])</span>
            
            <span class="n">coincide_in</span> <span class="o">=</span> <span class="n">found_in_1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">found_in_2</span><span class="p">)</span>
            <span class="n">frequency</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">output_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequency</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">coincide_in</span><span class="p">)</span>
            
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">ignore_nones</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">to_drop</span> <span class="o">=</span> <span class="n">output_df</span><span class="p">[(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Coincide in&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
            <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">output_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;contents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
         <span class="c1"># self.backup()</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;contents&#39;</span><span class="p">]</span></div>
    
    
<div class="viewcode-block" id="Case.identify_coincidences"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.identify_coincidences">[docs]</a>    <span class="k">def</span> <span class="nf">identify_coincidences</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">rawdata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">words</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">links</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">references</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">contents</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">generate_networks</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ignore_nones</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">600</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all coincidence identification methods. </span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        generate_networks : bool</span>
<span class="sd">            whether to generate networks based on coincidences identified.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">            * Behaviour depends on the options selected by the user and on whether the underlying data processing (e.g. raw data parsing) has been done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">rawdata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rawdata_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">words</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">parsed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">word_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="p">)</span>
            
        <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>
            
        <span class="k">if</span> <span class="n">links</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">references</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">refs_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">contents</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">contents_coincidence</span><span class="p">(</span><span class="n">ignore_nones</span> <span class="o">=</span> <span class="n">ignore_nones</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">info</span> <span class="o">==</span> <span class="kc">True</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info_metadata_coincidence</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">generate_networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_coincidence_networks</span><span class="p">(</span><span class="n">keywords</span> <span class="o">=</span> <span class="n">words</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">info</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">coincidences_identified</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
    

    <span class="c1"># Methods for generating analytics from case data and adding to case object</span>

<div class="viewcode-block" id="Case.analyse_data_entry_frequencies"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_data_entry_frequencies">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_data_entry_frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Analyses case-level attributes and adds them to case.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="s1">&#39;analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span> <span class="o">=</span> <span class="n">CaseAnalytics</span><span class="p">()</span>
            
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;total_entries&#39;</span><span class="p">,</span> <span class="s1">&#39;unique_entries&#39;</span><span class="p">,</span> <span class="s1">&#39;repeated_entries&#39;</span><span class="p">,</span> <span class="s1">&#39;intersect_size&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;most_frequent&#39;</span><span class="p">,</span> <span class="s1">&#39;most_frequent_count&#39;</span><span class="p">,</span> <span class="s1">&#39;least_frequent&#39;</span><span class="p">,</span> <span class="s1">&#39;least_frequent_count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_coincidence&#39;</span><span class="p">]</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>

        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_frequency_stats</span><span class="p">()</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;keywords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_words_frequency_stats</span><span class="p">()</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_metadata_frequency_stats</span><span class="p">()</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_info_frequency_stats</span><span class="p">()</span>
    <span class="c1">#     df.loc[&#39;links&#39;] = get_case_lvl_links_analytics(self)</span>
    <span class="c1">#     df.loc[&#39;references&#39;] = get_case_lvl_refs_analytics(self)</span>
    <span class="c1">#     df.loc[&#39;contents&#39;] = get_case_lvl_contents_analytics(self)</span>
    <span class="c1">#     df.loc[&#39;entities&#39;] = get_case_lvl_contents_analytics(self)</span>


        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">case_analytics</span> <span class="o">=</span> <span class="n">df</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
    <span class="c1">#          # self.backup()</span>

        <span class="k">return</span> <span class="n">df</span></div>

    
<div class="viewcode-block" id="Case.analyse_item_comparisons"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_item_comparisons">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_item_comparisons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all item comparison analytics.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to append analysis results to Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">data_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_rawdata_comparisons</span><span class="p">()</span>
        <span class="n">keyword_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_words_comparisons</span><span class="p">()</span>
        <span class="n">metadata_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_metadata_comparisons</span><span class="p">()</span>
        <span class="n">info_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_all_info_comparisons</span><span class="p">()</span>

        <span class="n">item_combos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">],</span> <span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]))</span>
        
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Data cosine similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Data set similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Data mean levenshtein distance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Keywords cosine similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Keywords set similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Keywords mean levenshtein distance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Metadata cosine similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Metadata set similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Metadata mean levenshtein distance&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Info cosine similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Info set similarity&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Info mean levenshtein distance&#39;</span><span class="p">]</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">item_combos</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">index_tuple</span> <span class="o">=</span> <span class="n">pair</span>

            <span class="n">data_index</span> <span class="o">=</span> <span class="n">data_comparisons</span><span class="p">[((</span><span class="n">data_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">|</span> <span class="p">(</span><span class="n">data_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">data_cosine</span> <span class="o">=</span> <span class="n">data_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_index</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">data_set_sim</span> <span class="o">=</span> <span class="n">data_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data_index</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>

            <span class="n">keywords_index</span> <span class="o">=</span> <span class="n">keyword_comparisons</span><span class="p">[((</span><span class="n">keyword_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">keyword_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">|</span> <span class="p">(</span><span class="n">keyword_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">keyword_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">keywords_cosine</span> <span class="o">=</span> <span class="n">keyword_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">keywords_index</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">keywords_set_sim</span> <span class="o">=</span> <span class="n">keyword_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">keywords_index</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
            <span class="n">keywords_lev</span> <span class="o">=</span> <span class="n">keyword_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">keywords_index</span><span class="p">,</span> <span class="s1">&#39;Levenshtein distance&#39;</span><span class="p">]</span>

            <span class="n">metadata_index</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="p">[((</span><span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">|</span> <span class="p">(</span><span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">metadata_cosine</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">metadata_index</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">metadata_set_sim</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">metadata_index</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
            <span class="n">metadata_lev</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">metadata_index</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>

            <span class="n">info_index</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="p">[((</span><span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">|</span> <span class="p">(</span><span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">index_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">info_cosine</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">info_index</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">info_set_sim_var</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">info_index</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
            <span class="n">info_lev</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">info_index</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>

            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Data cosine similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_cosine</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Data set similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_set_sim</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Data mean levenshtein distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Keywords cosine similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keywords_cosine</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Keywords set similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keywords_set_sim</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Keywords mean levenshtein distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keywords_lev</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Metadata cosine similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_cosine</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Metadata set similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_set_sim</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Metadata mean levenshtein distance&#39;</span><span class="p">]</span> <span class="o">=</span><span class="n">metadata_lev</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Info cosine similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_cosine</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Info set similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_set_sim_var</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">pair</span><span class="p">,</span> <span class="s1">&#39;Info mean levenshtein distance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_lev</span>


        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_comparisons</span> <span class="o">=</span> <span class="n">df</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
    <span class="c1">#          # self.backup()</span>
            <span class="k">return</span> <span class="n">df</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="Case.get_data_frequency_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_data_frequency_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_data_frequency_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all data frequency statistics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">all_data_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_data</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">data_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_data_df</span><span class="p">)</span>
        <span class="n">data_freqs</span> <span class="o">=</span> <span class="n">all_data_df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">([</span><span class="s1">&#39;Datatype&#39;</span><span class="p">,</span> 
                                                <span class="s1">&#39;Format&#39;</span><span class="p">,</span> 
                                                <span class="s1">&#39;Stored as&#39;</span><span class="p">,</span> 
                                                <span class="s1">&#39;Size (bytes)&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Raw data&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Parsed data&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">data_set_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_freqs</span><span class="p">)</span>
        <span class="n">data_repeats_len</span> <span class="o">=</span> <span class="n">data_len</span> <span class="o">-</span> <span class="n">data_set_len</span>
        <span class="n">data_intersect_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_data_intersect</span><span class="p">())</span>
        <span class="n">data_mean_freq</span> <span class="o">=</span> <span class="n">data_freqs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">data_most_freq_list</span> <span class="o">=</span> <span class="n">data_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">data_most_freq</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Datatype&#39;</span><span class="p">:</span> <span class="n">data_most_freq_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;Format&#39;</span><span class="p">:</span> <span class="n">data_most_freq_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;Raw data&#39;</span><span class="p">:</span> <span class="n">data_most_freq_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]}</span>
        <span class="n">data_most_freq_count</span> <span class="o">=</span> <span class="n">data_most_freq_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">data_least_freq_list</span> <span class="o">=</span> <span class="n">data_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="n">data_least_freq</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Datatype&#39;</span><span class="p">:</span> <span class="n">data_least_freq_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;Format&#39;</span><span class="p">:</span> <span class="n">data_least_freq_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;Raw data&#39;</span><span class="p">:</span> <span class="n">data_least_freq_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]}</span>
        <span class="n">data_least_freq_count</span> <span class="o">=</span> <span class="n">data_least_freq_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">data_co_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;rawdata&#39;</span><span class="p">][</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
                <span class="n">data_len</span><span class="p">,</span> 
                <span class="n">data_set_len</span><span class="p">,</span> 
                <span class="n">data_repeats_len</span><span class="p">,</span> 
                <span class="n">data_intersect_len</span><span class="p">,</span> 
                <span class="n">data_mean_freq</span><span class="p">,</span> 
                <span class="n">data_most_freq</span><span class="p">,</span> 
                <span class="n">data_most_freq_count</span><span class="p">,</span> 
                <span class="n">data_least_freq</span><span class="p">,</span> 
                <span class="n">data_least_freq_count</span><span class="p">,</span> 
                <span class="n">data_co_mean</span>
                <span class="p">]</span></div>

<div class="viewcode-block" id="Case.get_words_frequency_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_words_frequency_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_words_frequency_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all word frequency statistics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">all_words_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_words</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">words_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_words_df</span><span class="p">)</span>
        <span class="n">words_freqs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span>
        <span class="n">words_set_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words_freqs</span><span class="p">)</span>
        <span class="n">words_repeats_len</span> <span class="o">=</span> <span class="n">words_len</span> <span class="o">-</span> <span class="n">words_set_len</span>
        <span class="n">words_intersect_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_words_intersect</span><span class="p">())</span>
        <span class="n">words_mean_freq</span> <span class="o">=</span> <span class="n">words_freqs</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">words_set_len</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">words_most_freq</span> <span class="o">=</span> <span class="n">words_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">words_most_freq_count</span> <span class="o">=</span> <span class="n">words_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span>
            <span class="n">words_least_freq</span> <span class="o">=</span> <span class="n">words_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
            <span class="n">words_least_freq_count</span> <span class="o">=</span> <span class="n">words_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">words_most_freq</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">words_most_freq_count</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">words_least_freq</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">words_least_freq_count</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">words_co_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;words&#39;</span><span class="p">][</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span>
                <span class="n">words_len</span><span class="p">,</span> 
                <span class="n">words_set_len</span><span class="p">,</span> 
                <span class="n">words_repeats_len</span><span class="p">,</span> 
                <span class="n">words_intersect_len</span><span class="p">,</span> 
                <span class="n">words_mean_freq</span><span class="p">,</span> 
                <span class="n">words_most_freq</span><span class="p">,</span> 
                <span class="n">words_most_freq_count</span><span class="p">,</span> 
                <span class="n">words_least_freq</span><span class="p">,</span> 
                <span class="n">words_least_freq_count</span><span class="p">,</span> 
                <span class="n">words_co_mean</span>
                <span class="p">]</span></div>

<div class="viewcode-block" id="Case.get_info_frequency_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_info_frequency_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_frequency_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information entry frequency statistics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">all_info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_info_df</span><span class="p">)</span>
        <span class="n">info_freqs</span> <span class="o">=</span> <span class="n">all_info_df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">([</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">info_set_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">info_freqs</span><span class="p">)</span>
        <span class="n">info_repeats_len</span> <span class="o">=</span> <span class="n">info_len</span> <span class="o">-</span> <span class="n">info_set_len</span>
        <span class="n">info_intersect_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_info_intersect</span><span class="p">())</span>
        <span class="n">info_mean_freq</span> <span class="o">=</span> <span class="n">info_freqs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">info_most_freq_series</span> <span class="o">=</span> <span class="n">info_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_most_freq</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">info_most_freq_series</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">info_most_freq_series</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">info_most_freq_count</span> <span class="o">=</span> <span class="n">info_most_freq_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">info_least_freq_series</span> <span class="o">=</span> <span class="n">info_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_least_freq</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">info_least_freq_series</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">info_least_freq_series</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">info_least_freq_count</span> <span class="o">=</span> <span class="n">info_least_freq_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">info_co_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;information&#39;</span><span class="p">][</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>


        <span class="k">return</span> <span class="p">[</span>
                <span class="n">info_len</span><span class="p">,</span> 
                <span class="n">info_set_len</span><span class="p">,</span> 
                <span class="n">info_repeats_len</span><span class="p">,</span> 
                <span class="n">info_intersect_len</span><span class="p">,</span> 
                <span class="n">info_mean_freq</span><span class="p">,</span> 
                <span class="n">info_most_freq</span><span class="p">,</span> 
                <span class="n">info_most_freq_count</span><span class="p">,</span> 
                <span class="n">info_least_freq</span><span class="p">,</span> 
                <span class="n">info_least_freq_count</span><span class="p">,</span> 
                <span class="n">info_co_mean</span>
                <span class="p">]</span></div>

<div class="viewcode-block" id="Case.get_metadata_frequency_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.get_metadata_frequency_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_metadata_frequency_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata entry frequency statistics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">all_metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">metadata_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_metadata_df</span><span class="p">)</span>
        <span class="n">metadata_freqs</span> <span class="o">=</span> <span class="n">all_metadata_df</span><span class="o">.</span><span class="n">value_counts</span><span class="p">([</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">metadata_set_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata_freqs</span><span class="p">)</span>
        <span class="n">metadata_repeats_len</span> <span class="o">=</span> <span class="n">metadata_len</span> <span class="o">-</span> <span class="n">metadata_set_len</span>
        <span class="n">metadata_intersect_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_metadata_intersect</span><span class="p">())</span>
        <span class="n">metadata_mean_freq</span> <span class="o">=</span> <span class="n">metadata_freqs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">metadata_most_freq_series</span> <span class="o">=</span> <span class="n">metadata_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">metadata_most_freq</span> <span class="o">=</span> <span class="s1">&#39;Metadata: &#39;</span> <span class="o">+</span> <span class="n">metadata_most_freq_series</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">metadata_most_freq_series</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">metadata_most_freq_count</span> <span class="o">=</span> <span class="n">metadata_most_freq_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">metadata_least_freq_series</span> <span class="o">=</span> <span class="n">metadata_freqs</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">metadata_least_freq</span> <span class="o">=</span> <span class="s1">&#39;Metadata: &#39;</span> <span class="o">+</span> <span class="n">metadata_least_freq_series</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">metadata_least_freq_series</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]</span>
        <span class="n">metadata_least_freq_count</span> <span class="o">=</span> <span class="n">metadata_least_freq_series</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">metadata_co_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">coinciding_data</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>


        <span class="k">return</span> <span class="p">[</span>
                <span class="n">metadata_len</span><span class="p">,</span> 
                <span class="n">metadata_set_len</span><span class="p">,</span> 
                <span class="n">metadata_repeats_len</span><span class="p">,</span> 
                <span class="n">metadata_intersect_len</span><span class="p">,</span> 
                <span class="n">metadata_mean_freq</span><span class="p">,</span> 
                <span class="n">metadata_most_freq</span><span class="p">,</span>
                <span class="n">metadata_most_freq_count</span><span class="p">,</span> 
                <span class="n">metadata_least_freq</span><span class="p">,</span> 
                <span class="n">metadata_least_freq_count</span><span class="p">,</span> 
                <span class="n">metadata_co_mean</span>
                <span class="p">]</span></div>

<div class="viewcode-block" id="Case.global_network_analytics_blank_df"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.global_network_analytics_blank_df">[docs]</a>    <span class="k">def</span> <span class="nf">global_network_analytics_blank_df</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an empty dataframe formatted to take global network analytics results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Cross-network comparison stats</span>

        <span class="n">networks_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>
        <span class="n">to_ignore</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;disconnected_items_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;full_items_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;disconnected_words_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;full_words_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;disconnected_info_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;full_info_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;disconnected_metadata_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;full_metadata_network&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;info_ev_partitioned&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;info_metadata_partitioned&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;metadata_ev_partitioned&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;info_metadata_ev_partitioned&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;info_metadata_ev_co&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;combined_items_network&#39;</span>
                        <span class="s1">&#39;items_information_partitioned&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;items_metadata_partitioned&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;items_information_metadata_partitioned&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;information_metadata_partitioned&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;items_information_partitioned&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;combined_items_network&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;coinciding_items_information_metadata&#39;</span><span class="p">]</span>

        <span class="n">networks_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">networks_list</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_ignore</span><span class="p">]</span>

        <span class="n">dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">networks_list</span><span class="p">,</span>
                                                                    <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
                                                                    <span class="s1">&#39;average_path_length&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;diameter&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;density&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;weighted_density&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;reciprocity&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_degree&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_weighted_degree&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_betweenness&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_eigencentrality&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_authority_score&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_hub_score&#39;</span><span class="p">,</span>
                                                                    <span class="s1">&#39;mean_coreness&#39;</span>
                                                                    <span class="p">],</span>
                                                                    <span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">dataframe</span></div>

<div class="viewcode-block" id="Case.global_network_analytics"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.global_network_analytics">[docs]</a>    <span class="k">def</span> <span class="nf">global_network_analytics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all global network analytics and returns a dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            
            <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;average_path_length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">average_path_length</span><span class="p">()</span>
            <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">diameter</span><span class="p">()</span>
            <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">density</span><span class="p">()</span>
            <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;weighted_density&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">weighted_density</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;reciprocity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">reciprocity</span><span class="p">()</span>
            
            <span class="n">degrees_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degrees_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">degrees_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_degree&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">degrees_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
                
            <span class="n">weighted_degrees_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">weighted_degrees_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">weighted_degrees_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_weighted_degree&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weighted_degrees_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
            
            <span class="n">betweenness_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">betweenness_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">betweenness_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_betweenness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betweenness_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">eigen_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">eigencentralities_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">eigen_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                    <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_eigencentrality&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eigen_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_eigencentrality&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
            
            <span class="n">auth_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">authority_scores_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">auth_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_authority_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
            
            <span class="n">hub_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">hub_scores_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">hub_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_hub_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hub_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>
            
            <span class="n">coreness_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coreness_stats</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">in</span> <span class="n">coreness_stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;mean_coreness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coreness_stats</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">dataframe</span></div>

<div class="viewcode-block" id="Case.undirected_network_analysis_results"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.undirected_network_analysis_results">[docs]</a>    <span class="k">def</span> <span class="nf">undirected_network_analysis_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network_name</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all network analytics for an undirected network and returns a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dfs_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">weighted_degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">eigencentralities_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">betweenness_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">authority_scores_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">hub_scores_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coreness_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">)]</span>
        
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;components&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">components</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;degree_distribution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degree_distribution</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">weighted</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;weighted_degree_distribution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degree_distribution</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">weighted</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">output_dict</span></div>

<div class="viewcode-block" id="Case.directed_network_analysis_results"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.directed_network_analysis_results">[docs]</a>    <span class="k">def</span> <span class="nf">directed_network_analysis_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network_name</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all network analytics for a directed network and returns a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="n">dfs_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;out&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">weighted_degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">weighted_degrees_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;out&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">betweenness_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">authority_scores_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">hub_scores_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">coreness_df</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;vertex&#39;</span><span class="p">)]</span>
        
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs_list</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;components&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">components</span><span class="p">(</span><span class="n">network_name</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;in_degree_distribution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degree_distribution</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">weighted</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s1">&#39;in&#39;</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;out_degree_distribution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">degree_distribution</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">weighted</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="s1">&#39;out&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">output_dict</span></div>
    

<div class="viewcode-block" id="Case.analyse_all_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_all_networks">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_all_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all network analysis statistics.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to append analysis results to Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;network_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">global_analytics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_network_analytics_blank_df</span><span class="p">()</span>
        <span class="n">global_analytics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_network_analytics</span><span class="p">(</span><span class="n">global_analytics</span><span class="p">)</span>
        <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;network_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">global_analytics</span>

        <span class="n">network_list</span> <span class="o">=</span> <span class="n">global_analytics</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">network_list</span><span class="p">:</span>
            <span class="n">network_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">network_obj</span><span class="o">.</span><span class="n">is_directed</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">output_dict</span><span class="p">[</span><span class="n">network</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directed_network_analysis_results</span><span class="p">(</span><span class="n">network_name</span> <span class="o">=</span> <span class="n">network</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">output_dict</span><span class="p">[</span><span class="n">network</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">undirected_network_analysis_results</span><span class="p">(</span><span class="n">network_name</span> <span class="o">=</span> <span class="n">network</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;network_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span> <span class="o">=</span> <span class="n">output_dict</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">output_dict</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">output_dict</span></div>

        
<div class="viewcode-block" id="Case.item_attr_counts"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_attr_counts">[docs]</a>    <span class="k">def</span> <span class="nf">item_attr_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of entries for all item attributes in an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Information&#39;</span><span class="p">,</span> <span class="s1">&#39;Links&#39;</span><span class="p">,</span> <span class="s1">&#39;References&#39;</span><span class="p">,</span> <span class="s1">&#39;Contents&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="n">item_id</span><span class="p">])</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">information</span><span class="p">)</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">links</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;References&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">references</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;References&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Contents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">item_id</span> <span class="o">=</span> <span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;Contents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        
        <span class="k">return</span> <span class="n">output_df</span></div>

    
<div class="viewcode-block" id="Case.item_info_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_info_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_info_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all information analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="n">info_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_vs_other_info_comparison</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        
        <span class="n">amounts_shared</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
        <span class="n">cosines</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
        <span class="n">set_similarities</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
        <span class="n">levenshteins</span> <span class="o">=</span> <span class="n">info_comparisons</span><span class="p">[</span><span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
        
        <span class="n">amounts_shared_stats</span> <span class="o">=</span> <span class="n">amounts_shared</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">cosines_stats</span> <span class="o">=</span> <span class="n">cosines</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">set_similarities_stats</span> <span class="o">=</span> <span class="n">set_similarities</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">levenshteins_stats</span> <span class="o">=</span> <span class="n">levenshteins</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_comparisons</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">amounts_shared_stats</span><span class="p">,</span> <span class="n">cosines_stats</span><span class="p">,</span> <span class="n">set_similarities_stats</span><span class="p">,</span> <span class="n">levenshteins_stats</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        
        <span class="k">return</span> <span class="n">output_df</span></div>

    
<div class="viewcode-block" id="Case.item_metadata_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_metadata_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_metadata_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all metadata analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="n">metadata_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_vs_other_metadata_comparison</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        
        <span class="n">amounts_shared</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
        <span class="n">cosines</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
        <span class="n">set_similarities</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
        <span class="n">levenshteins</span> <span class="o">=</span> <span class="n">metadata_comparisons</span><span class="p">[</span><span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>
        
        <span class="n">amounts_shared_stats</span> <span class="o">=</span> <span class="n">amounts_shared</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">cosines_stats</span> <span class="o">=</span> <span class="n">cosines</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">set_similarities_stats</span> <span class="o">=</span> <span class="n">set_similarities</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">levenshteins_stats</span> <span class="o">=</span> <span class="n">levenshteins</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata_comparisons</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">amounts_shared_stats</span><span class="p">,</span> <span class="n">cosines_stats</span><span class="p">,</span> <span class="n">set_similarities_stats</span><span class="p">,</span> <span class="n">levenshteins_stats</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        
        <span class="k">return</span> <span class="n">output_df</span></div>

    
<div class="viewcode-block" id="Case.item_words_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_words_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_words_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">comparison_df</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all words analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="n">words_comparisons</span> <span class="o">=</span> <span class="n">comparison_df</span><span class="p">[(</span><span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;First item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;Second item&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">)]</span>
        <span class="n">words_comparisons</span> <span class="o">=</span> <span class="n">words_comparisons</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        
        <span class="n">amounts_shared</span> <span class="o">=</span> <span class="n">words_comparisons</span><span class="p">[</span><span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
        <span class="n">cosines</span> <span class="o">=</span> <span class="n">words_comparisons</span><span class="p">[</span><span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
        <span class="n">set_similarities</span> <span class="o">=</span> <span class="n">words_comparisons</span><span class="p">[</span><span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
        <span class="n">levenshteins</span> <span class="o">=</span> <span class="n">words_comparisons</span><span class="p">[</span><span class="s1">&#39;Levenshtein distance&#39;</span><span class="p">]</span>
        
        <span class="n">amounts_shared_stats</span> <span class="o">=</span> <span class="n">amounts_shared</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">cosines_stats</span> <span class="o">=</span> <span class="n">cosines</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">set_similarities_stats</span> <span class="o">=</span> <span class="n">set_similarities</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        <span class="n">levenshteins_stats</span> <span class="o">=</span> <span class="n">levenshteins</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
        
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">words_comparisons</span>
        <span class="n">output_df</span><span class="p">[</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">amounts_shared_stats</span><span class="p">,</span> <span class="n">cosines_stats</span><span class="p">,</span> <span class="n">set_similarities_stats</span><span class="p">,</span> <span class="n">levenshteins_stats</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        
        <span class="k">return</span> <span class="n">output_df</span></div>

    
<div class="viewcode-block" id="Case.item_links_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_links_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_links_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all link analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_links&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>
        
        <span class="c1">## Links</span>
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;linked_by&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">is_linked_by</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;network_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;items_links&#39;</span><span class="p">][</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="k">return</span> <span class="n">output_dict</span></div>

    
<div class="viewcode-block" id="Case.item_refs_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_refs_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_refs_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all references analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_references&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>
        
        <span class="c1">## reference</span>
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;referred_by&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">is_referred_by</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="kc">None</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;network_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;items_references&#39;</span><span class="p">][</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="kc">None</span>
        
        <span class="k">return</span> <span class="n">output_dict</span></div>

    
<div class="viewcode-block" id="Case.item_contents_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.item_contents_stats">[docs]</a>    <span class="k">def</span> <span class="nf">item_contents_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns all contents analytics for an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;items_contents&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>
        
        <span class="c1">## content</span>
        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;contained_by&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">is_contained_by</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="kc">None</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="s1">&#39;network_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;items_contents&#39;</span><span class="p">][</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="kc">None</span>
        
        <span class="k">return</span> <span class="n">output_dict</span></div>

    
<div class="viewcode-block" id="Case.analyse_all_items"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_all_items">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_all_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all item analytics.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to append analysis results to Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;item_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">item_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">words_comparisons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_items_words_comparisons</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">item_ids</span><span class="p">:</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_attr_counts</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;keywords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_words_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">words_comparisons</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_metadata_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_info_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;links&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_links_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;references&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_refs_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
            <span class="n">output_dict</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;contents&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_contents_stats</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span> <span class="o">=</span> <span class="n">output_dict</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        
        <span class="k">return</span> <span class="n">output_dict</span></div>

    
<div class="viewcode-block" id="Case.info_entries_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.info_entries_stats">[docs]</a>    <span class="k">def</span> <span class="nf">info_entries_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns analytics for all information entries in the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">all_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_info</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">info_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_info</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">],</span> <span class="n">all_info</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]))</span>

        <span class="n">items_by_info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_information</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">items_by_info_df</span><span class="p">[</span><span class="s1">&#39;Information&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">items_by_info_df</span><span class="p">[</span><span class="s1">&#39;Label&#39;</span><span class="p">],</span> <span class="n">items_by_info_df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]))</span>
        <span class="n">items_by_info_df</span> <span class="o">=</span> <span class="n">items_by_info_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">items_by_info_df</span> <span class="o">=</span> <span class="n">items_by_info_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Information&#39;</span><span class="p">)</span>

        <span class="c1">#     metadata_by_info_dict = self.indexes.metadata_by_information</span>

        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">info_list</span><span class="p">:</span>

            <span class="n">vertex_name</span> <span class="o">=</span> <span class="s1">&#39;Label: &#39;</span> <span class="o">+</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;, Category: &#39;</span> <span class="o">+</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;items_associated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items_by_info_df</span><span class="p">[</span><span class="n">items_by_info_df</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">pair</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;items_associated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            

            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;coincides_with&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_neighbours</span><span class="p">(</span><span class="s1">&#39;coinciding_information&#39;</span><span class="p">,</span> <span class="n">vertex_name</span> <span class="o">=</span> <span class="n">vertex_name</span><span class="p">)[</span><span class="s1">&#39;vertex_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;coincides_with&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;centrality_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;coinciding_information&#39;</span><span class="p">][</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">vertex_name</span><span class="p">]</span>  
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;centrality_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#         output_df[information_id][&#39;metadata_associated&#39;] = metadata_by_info_dict[information_id]</span>

        <span class="k">return</span> <span class="n">output_df</span></div>

<div class="viewcode-block" id="Case.analyse_all_info"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_all_info">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_all_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all information analytics.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to append analysis results to Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;information_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">information_analytics</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info_entries_stats</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">information_analytics</span> <span class="o">=</span> <span class="n">output_dict</span>

        <span class="k">return</span> <span class="n">output_dict</span></div>

<div class="viewcode-block" id="Case.metadata_entries_stats"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.metadata_entries_stats">[docs]</a>    <span class="k">def</span> <span class="nf">metadata_entries_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns analytics for all metadata entries in the Case.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">output_df</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">all_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">metadata_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_metadata</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">],</span> <span class="n">all_metadata</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]))</span>


        <span class="n">items_by_metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexes</span><span class="o">.</span><span class="n">items_by_metadata</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">items_by_metadata_df</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">items_by_metadata_df</span><span class="p">[</span><span class="s1">&#39;Metadata&#39;</span><span class="p">],</span> <span class="n">items_by_metadata_df</span><span class="p">[</span><span class="s1">&#39;Category&#39;</span><span class="p">]))</span>
        <span class="n">items_by_metadata_df</span> <span class="o">=</span> <span class="n">items_by_metadata_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">items_by_metadata_df</span> <span class="o">=</span> <span class="n">items_by_metadata_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">)</span>

        <span class="c1">#     metadata_by_info_dict = self.indexes.metadata_by_information</span>

        <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">metadata_list</span><span class="p">:</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;items_associated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items_by_metadata_df</span><span class="p">[</span><span class="n">items_by_metadata_df</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">pair</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;items_associated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            

            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;coincides_with&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_neighbours</span><span class="p">(</span><span class="s1">&#39;coinciding_metadata&#39;</span><span class="p">,</span> <span class="n">vertex_name</span> <span class="o">=</span> <span class="n">key</span><span class="p">)[</span><span class="s1">&#39;vertex_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;coincides_with&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;centrality_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;coinciding_metadata&#39;</span><span class="p">][</span><span class="s1">&#39;vertex_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>  
            <span class="k">except</span><span class="p">:</span>
                <span class="n">output_df</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;centrality_stats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#         output_df[metadata_id][&#39;information_associated&#39;] = metadata_by_metadata_dict[metadata_id]</span>

        <span class="k">return</span> <span class="n">output_df</span></div>

    
<div class="viewcode-block" id="Case.analyse_all_metadata"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.analyse_all_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">analyse_all_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">append_to_case</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all metadata analytics.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        append_to_case : bool</span>
<span class="sd">            whether to append analysis results to Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="s1">&#39;metadata_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">metadata_analytics</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">output_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_entries_stats</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">append_to_case</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">metadata_analytics</span> <span class="o">=</span> <span class="n">output_dict</span>

        <span class="k">return</span> <span class="n">output_dict</span></div>

    
<div class="viewcode-block" id="Case.append_network_analytics_attrs"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.append_network_analytics_attrs">[docs]</a>    <span class="k">def</span> <span class="nf">append_network_analytics_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends the results of network analyses to networks&#39; vertices and edges.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Getting networks and analytics</span>
        <span class="n">network_analytics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="p">[</span><span class="s1">&#39;network_comparisons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">networks_list</span> <span class="o">=</span> <span class="n">network_analytics</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

        <span class="c1"># Adding network-level stats to networks as attributes</span>

        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">networks_list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">network_analytics</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">network</span><span class="p">)[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">network_analytics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">network</span><span class="p">,</span> <span class="n">column</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="Case.append_item_vertex_analytics_attrs"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.append_item_vertex_analytics_attrs">[docs]</a>    <span class="k">def</span> <span class="nf">append_item_vertex_analytics_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends item analysis results to networks&#39; vertices</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Appending to vertices for networks where vertices represent items</span>

        <span class="n">all_networks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">contents</span><span class="p">()</span>
        <span class="n">items_networks_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">all_networks</span> <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;item&#39;</span> <span class="ow">in</span> <span class="n">n</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;partition&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">n</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;combined&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">n</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s1">&#39;coincid&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">n</span><span class="p">))]</span>

        <span class="c1"># Adding general vertex stats</span>

        <span class="n">amounts_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">ids</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>

            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span>
            <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="c1"># Information stats</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;information_intersect_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;information&#39;</span><span class="p">][</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;Intersect size&#39;</span><span class="p">]</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;information_set_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;information&#39;</span><span class="p">][</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;Set similarity&#39;</span><span class="p">]</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;information_cosine_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;information&#39;</span><span class="p">][</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;Cosine similarity&#39;</span><span class="p">]</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;information_mean_levenshtein&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">item_analytics</span><span class="p">[</span><span class="n">item_id</span><span class="p">][</span><span class="s1">&#39;information&#39;</span><span class="p">][</span><span class="s1">&#39;item_comparisons_stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;Mean levenshtein distance&#39;</span><span class="p">]</span>

            <span class="n">cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>

            <span class="n">amounts_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">amounts_frame</span><span class="p">,</span> <span class="n">df</span><span class="p">])</span>

        <span class="n">amounts_frame</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;item_id&#39;</span>
        <span class="n">amounts_frame</span> <span class="o">=</span> <span class="n">amounts_frame</span>

        <span class="k">for</span> <span class="n">network</span> <span class="ow">in</span> <span class="n">items_networks_list</span><span class="p">:</span>
            <span class="n">vertices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">network</span><span class="p">)</span><span class="o">.</span><span class="n">vs</span>
            <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="n">vertices</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">amounts_frame</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">get_network</span><span class="p">(</span><span class="n">network</span><span class="p">)</span><span class="o">.</span><span class="n">vs</span><span class="p">[</span><span class="n">vertex</span><span class="o">.</span><span class="n">index</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">amounts_frame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">vertex</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">col</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.append_analytics_to_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.append_analytics_to_networks">[docs]</a>    <span class="k">def</span> <span class="nf">append_analytics_to_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends the results of all analyses to networks as vertex and edge attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="p">((</span><span class="s1">&#39;network_analytics&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">contents</span><span class="p">())</span><span class="ow">or</span> <span class="p">(</span><span class="s1">&#39;network_comparisons&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">network_analytics</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyse_all_networks</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">append_network_analytics_attrs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">append_item_vertex_analytics_attrs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>

<div class="viewcode-block" id="Case.generate_analytics"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.generate_analytics">[docs]</a>    <span class="k">def</span> <span class="nf">generate_analytics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">information</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">networks</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates all analytics and appends the results to the Case&#39;s CaseAnalytics collection.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        items : bool</span>
<span class="sd">            whether to generate item analytics.</span>
<span class="sd">        data : bool</span>
<span class="sd">            whether to generate data entry analytics.</span>
<span class="sd">        metadata : bool</span>
<span class="sd">            whether to generate metadata entry analytics.</span>
<span class="sd">        information : bool</span>
<span class="sd">            whether to generate information entry analytics.</span>
<span class="sd">        networks : bool</span>
<span class="sd">            whether to generate network analytics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyse_all_networks</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">items</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyse_all_items</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">information</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyse_all_info</span><span class="p">()</span>
    
        <span class="k">if</span> <span class="n">metadata</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analyse_all_metadata</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">networks</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append_analytics_to_networks</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">analytics_generated</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span></div>
         <span class="c1"># self.backup()</span>
    
    

<div class="viewcode-block" id="Case.run_full_analysis"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.run_full_analysis">[docs]</a>    <span class="k">def</span> <span class="nf">run_full_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs all analysis functions on the Case.</span>
<span class="sd">        </span>
<span class="sd">        Functions:</span>
<span class="sd">            #. Parses all raw data entries.</span>
<span class="sd">            #. Generates keywords.</span>
<span class="sd">            #. Indexes all items, metadata, keywords, information entries, etc.</span>
<span class="sd">            #. Identifies if and how objects co-incide across the Case.</span>
<span class="sd">            #. Generates all default networks from Case data.</span>
<span class="sd">            #. Generates all analytics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_rawdata</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_keywords</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_indexes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identify_coincidences</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_all_networks</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_analytics</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backup</span><span class="p">()</span></div>
        

        
    <span class="c1"># Methods for exporting data to external files</span>
    
<div class="viewcode-block" id="Case.export_folder"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_folder">[docs]</a>    <span class="k">def</span> <span class="nf">export_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder_name</span> <span class="o">=</span> <span class="s1">&#39;obj_name&#39;</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">export_str_as</span> <span class="o">=</span> <span class="s1">&#39;txt&#39;</span><span class="p">,</span> <span class="n">export_dict_as</span> <span class="o">=</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="n">export_pandas_as</span> <span class="o">=</span> <span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="n">export_network_as</span> <span class="o">=</span> <span class="s1">&#39;graphML&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the Case to a folder.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        folder_name : str</span>
<span class="sd">            name of folder to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        folder_address : str</span>
<span class="sd">            directory address to create folder in. defaults to requesting for user input.</span>
<span class="sd">        export_str_as : str</span>
<span class="sd">            file type for exporting string objects. Defaults to &#39;txt&#39;.</span>
<span class="sd">        export_dict_as : str</span>
<span class="sd">            file type for exporting dictionary objects. Defaults to &#39;json&#39;.</span>
<span class="sd">        export_pandas_as : str</span>
<span class="sd">            file type for exporting Pandas objects. Defaults to &#39;csv&#39;.</span>
<span class="sd">        export_network_as : str</span>
<span class="sd">            file type for exporting network objects. Defaults to &#39;graphML&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">obj_to_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder_name</span> <span class="o">=</span> <span class="n">folder_name</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="n">folder_address</span><span class="p">,</span> <span class="n">export_str_as</span> <span class="o">=</span> <span class="n">export_str_as</span><span class="p">,</span> <span class="n">export_dict_as</span> <span class="o">=</span> <span class="n">export_dict_as</span><span class="p">,</span> <span class="n">export_pandas_as</span> <span class="o">=</span> <span class="n">export_pandas_as</span><span class="p">,</span> <span class="n">export_network_as</span> <span class="o">=</span> <span class="n">export_network_as</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.export_network_to_kumu"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_network_to_kumu">[docs]</a>    <span class="k">def</span> <span class="nf">export_network_to_kumu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports a network to a Kumu blue-print formatted .JSON file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">export_network_to_kumu</span><span class="p">(</span><span class="n">network</span> <span class="o">=</span> <span class="n">network</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="n">folder_address</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Case.export_network"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_network">[docs]</a>    <span class="k">def</span> <span class="nf">export_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports a network to one of a variety of graph file types. Defaults to .graphML.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">export_network</span><span class="p">(</span><span class="n">network</span> <span class="o">=</span> <span class="n">network</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="n">folder_address</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.export_all_networks"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_all_networks">[docs]</a>    <span class="k">def</span> <span class="nf">export_all_networks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;&quot;</span>
<span class="sd">        Exports all networks in the Case to one of a variety of graph file types. Defaults to .graphML.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">export_all_networks</span><span class="p">(</span><span class="n">folder_address</span> <span class="o">=</span> <span class="n">folder_address</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="Case.export_txt"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_txt">[docs]</a>    <span class="k">def</span> <span class="nf">export_txt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_file</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the Case to a .txt file.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : str</span>
<span class="sd">            name of file to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        file_address : str</span>
<span class="sd">            directory address to create file in. defaults to requesting for user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">new_file</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">file_name</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File name: &#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File address: &#39;</span><span class="p">)</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">file_name</span>
            
        <span class="k">if</span> <span class="n">new_file</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File path: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="s1">&#39;.case&#39;</span> <span class="o">!=</span> <span class="n">file_address</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]:</span>
            <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span> <span class="o">+</span> <span class="s1">&#39;.case&#39;</span>
        
         <span class="c1"># self.backup()</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_address</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> </div>

            
<div class="viewcode-block" id="Case.export_excel"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_excel">[docs]</a>    <span class="k">def</span> <span class="nf">export_excel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_file</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the Case to an Excel (.xlsx) file.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : str</span>
<span class="sd">            name of file to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        file_address : str</span>
<span class="sd">            directory address to create file in. defaults to requesting for user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">new_file</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">file_name</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File name: &#39;</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File address: &#39;</span><span class="p">)</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">file_name</span>
            
        <span class="k">if</span> <span class="n">new_file</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="n">file_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
                <span class="n">file_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File path: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="s1">&#39;.xlsx&#39;</span> <span class="o">!=</span> <span class="n">file_address</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]:</span>
            <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span> <span class="o">+</span> <span class="s1">&#39;.xlsx&#39;</span>
        
        <span class="n">metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">)</span>

        <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">info_df</span><span class="p">)</span>

        <span class="n">data_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">data_df</span><span class="p">)</span>

        <span class="n">other_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">other_df</span><span class="p">)</span>

        <span class="n">frequent_words_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">frequent_words_df</span><span class="p">)</span>

        <span class="n">central_words_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">central_words</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">central_words_df</span><span class="p">)</span>
        
         <span class="c1"># self.backup()</span>
        
        <span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelWriter</span><span class="p">(</span><span class="n">file_address</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>  

            <span class="n">data_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Item data&#39;</span><span class="p">)</span>
            <span class="n">metadata_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Item metadata&#39;</span><span class="p">)</span>
            <span class="n">info_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Item information&#39;</span><span class="p">)</span>
            <span class="n">other_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Item other&#39;</span><span class="p">)</span>
            <span class="n">frequent_words_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Frequent keywords&#39;</span><span class="p">)</span>
            <span class="n">central_words_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Central keywords&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Case.export_csv_folder"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.export_csv_folder">[docs]</a>    <span class="k">def</span> <span class="nf">export_csv_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">folder_name</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the Case to a folder of .csv files.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : str</span>
<span class="sd">            name of file to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        file_address : str</span>
<span class="sd">            directory address to create file in. defaults to requesting for user input.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">metadata_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">metadata_df</span><span class="p">)</span>

        <span class="n">info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">info_df</span><span class="p">)</span>

        <span class="n">data_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">data_df</span><span class="p">)</span>

        <span class="n">other_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">other_df</span><span class="p">)</span>

        <span class="n">frequent_words_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">frequent_words</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">frequent_words_df</span><span class="p">)</span>

        <span class="n">central_words_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframes</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">central_words</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">join_df_col_lists_by_semicolon</span><span class="p">(</span><span class="n">central_words_df</span><span class="p">)</span>
    
        <span class="n">dfs_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;item_data&#39;</span><span class="p">:</span> <span class="n">data_df</span><span class="p">,</span> 
                    <span class="s1">&#39;item_metadata&#39;</span><span class="p">:</span> <span class="n">metadata_df</span><span class="p">,</span> 
                    <span class="s1">&#39;item_information&#39;</span><span class="p">:</span> <span class="n">info_df</span><span class="p">,</span> 
                    <span class="s1">&#39;item_other&#39;</span><span class="p">:</span> <span class="n">other_df</span><span class="p">,</span> 
                    <span class="s1">&#39;frequent_keywords&#39;</span><span class="p">:</span> <span class="n">frequent_words_df</span><span class="p">,</span> 
                    <span class="s1">&#39;central_keywords&#39;</span><span class="p">:</span> <span class="n">central_words_df</span><span class="p">}</span>
        
        <span class="k">if</span> <span class="n">folder_address</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">folder_address</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Folder address: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">folder_name</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">folder_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Folder name: &#39;</span><span class="p">)</span>
        
         <span class="c1"># self.backup()</span>
    
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_address</span><span class="p">,</span> <span class="n">folder_name</span><span class="p">)</span> 
        
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> 

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">dfs_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="n">item</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">file_name</span> <span class="o">+</span> <span class="s1">&#39;.csv&#39;</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">dfs_dict</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

            <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.save_as"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.save_as">[docs]</a>    <span class="k">def</span> <span class="nf">save_as</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="s1">&#39;request_input&#39;</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the Case to a file.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : str</span>
<span class="sd">            name of file to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        file_address : str</span>
<span class="sd">            directory address to create file in. defaults to requesting for user input.</span>
<span class="sd">        file_type : str</span>
<span class="sd">            type of file to save.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Options for file_type:</span>
<span class="sd">            * &#39;text&#39;: saves to .txt file.</span>
<span class="sd">            * &#39;txt&#39;: saves to .txt file.</span>
<span class="sd">            * &#39;pickle&#39;: saves to pickled .txt file.</span>
<span class="sd">            * &#39;Excel&#39;: saves to .xlsx file.</span>
<span class="sd">            * &#39;xlsx&#39;: saves to .xlsx file.</span>
<span class="sd">            * &#39;csv&#39;: saves to .csv file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s1">&#39;request_input&#39;</span><span class="p">:</span>
            <span class="n">file_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;File type: &#39;</span><span class="p">)</span>
        
        <span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        
        
        <span class="k">if</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;.case&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;case&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;txt&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;pickle&#39;</span><span class="p">):</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">export_txt</span><span class="p">(</span><span class="n">new_file</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span><span class="p">)</span>
        
        
        <span class="k">if</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;excel&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;xlsx&#39;</span><span class="p">):</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">export_excel</span><span class="p">(</span><span class="n">new_file</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="n">file_address</span><span class="p">)</span>
        
        
        <span class="k">if</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;csvs&#39;</span><span class="p">):</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">export_csv_folder</span><span class="p">(</span><span class="n">folder_address</span> <span class="o">=</span> <span class="n">file_address</span><span class="p">,</span> <span class="n">folder_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="p">)</span></div>
    
    
<div class="viewcode-block" id="Case.save"><a class="viewcode-back" href="../../../ida.casemanager.html#ida.casemanager.case.Case.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_as</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">save_to</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the Case to its source file. If no source given, saves to a new file.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        save_as : str</span>
<span class="sd">            name of file to create. Defaults to using the object&#39;s variable name.</span>
<span class="sd">        save_to : str</span>
<span class="sd">            directory address to save file in. Defaults to requesting for user input.</span>
<span class="sd">        file_type : str</span>
<span class="sd">            type of file to save.</span>
<span class="sd">        </span>
<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Options for file_type:</span>
<span class="sd">            * &#39;text&#39;: saves to .txt file.</span>
<span class="sd">            * &#39;txt&#39;: saves to .txt file.</span>
<span class="sd">            * &#39;pickle&#39;: saves to pickled .txt file.</span>
<span class="sd">            * &#39;Excel&#39;: saves to .xlsx file.</span>
<span class="sd">            * &#39;xlsx&#39;: saves to .xlsx file.</span>
<span class="sd">            * &#39;csv&#39;: saves to .csv file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="n">save_as</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="n">save_as</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_location</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">save_as</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">case_name</span>
        
        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span>
        
        <span class="k">if</span> <span class="n">save_to</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">save_to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_location</span>
        
        <span class="n">save_as</span> <span class="o">=</span> <span class="n">save_as</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> 
        
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_as</span><span class="p">(</span><span class="n">file_name</span> <span class="o">=</span> <span class="n">save_as</span><span class="p">,</span> <span class="n">file_address</span> <span class="o">=</span> <span class="n">save_to</span><span class="p">,</span> <span class="n">file_type</span> <span class="o">=</span> <span class="n">file_type</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Save failed&#39;</span><span class="p">)</span> </div></div>

            
            
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Jamie Hancock.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>